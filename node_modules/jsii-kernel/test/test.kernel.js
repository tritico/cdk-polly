"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const childProcess = require("child_process");
const fs = require("fs-extra");
const path_1 = require("path");
const path = require("path");
const vm = require("vm");
const lib_1 = require("../lib");
const api_1 = require("../lib/api");
const recording_1 = require("./recording");
// extract versions of fixtures
// tslint:disable:no-var-requires
const calcBaseVersion = require('@scope/jsii-calc-base/package.json').version.replace(/\+.+$/, '');
const calcLibVersion = require('@scope/jsii-calc-lib/package.json').version.replace(/\+.+$/, '');
const calcVersion = require('jsii-calc/package.json').version.replace(/\+.+$/, '');
// tslint:enable:no-var-requires
// tslint:disable:no-console
// tslint:disable:max-line-length
process.setMaxListeners(9999); // since every kernel instance adds an `on('exit')` handler.
process.on('unhandledRejection', e => {
    console.error(e.stack);
    process.exit(1);
});
const recordingOutput = process.env.JSII_RECORD;
if (recordingOutput) {
    fs.mkdirpSync(recordingOutput);
    console.error('JSII_RECORD=' + recordingOutput);
}
const tests = module.exports = {};
function defineTest(name, method) {
    const recording = name.replace(/[^A-Za-z]/g, '_');
    tests[name] = async (test) => {
        try {
            const kernel = await createCalculatorSandbox(recording);
            await method(test, kernel);
            await recording_1.closeRecording(kernel);
        }
        finally {
            test.done();
        }
    };
}
defineTest('sandbox allows loading arbitrary javascript into it', async (test, sandbox) => {
    const objid = sandbox.create({ fqn: '@scope/jsii-calc-lib.Number', args: [12] });
    test.deepEqual(sandbox.get({ objref: objid, property: 'doubleValue' }).value, 24);
    test.deepEqual(sandbox.invoke({ objref: objid, method: 'typeName', args: [] }).result, 'Number');
    const lhs = sandbox.create({ fqn: '@scope/jsii-calc-lib.Number', args: [10] });
    const rhs = sandbox.create({ fqn: '@scope/jsii-calc-lib.Number', args: [20] });
    const add = sandbox.create({ fqn: 'jsii-calc.Add', args: [lhs, rhs] });
    test.deepEqual(sandbox.get({ objref: add, property: 'value' }).value, 30);
});
defineTest('stats() return sandbox statistics', async (test, sandbox) => {
    const stats = sandbox.stats({});
    test.equal(stats.objectCount, 0);
    for (let i = 0; i < 100; ++i) {
        sandbox.create({ fqn: '@scope/jsii-calc-lib.Number', args: [i] });
    }
    test.equal(sandbox.stats({}).objectCount, 100);
});
defineTest('stats() return sandbox statistics', async (test, sandbox) => {
    const stats = sandbox.stats({});
    test.equal(stats.objectCount, 0);
    for (let i = 0; i < 100; ++i) {
        sandbox.create({ fqn: '@scope/jsii-calc-lib.Number', args: [i] });
    }
    test.equal(sandbox.stats({}).objectCount, 100);
});
defineTest('deleteObject will remove the reference', async (test, sandbox) => {
    const objects = [];
    for (let i = 0; i < 100; ++i) {
        objects.push(sandbox.create({ fqn: '@scope/jsii-calc-lib.Number', args: [i] }));
    }
    test.equal(sandbox.stats({}).objectCount, 100);
    for (let i = 0; i < 50; ++i) {
        sandbox.del({ objref: objects[i] });
    }
    test.equal(sandbox.stats({}).objectCount, 50);
    // try to access an object after it has been deleted
    let thrown = false;
    try {
        // tslint:disable:no-unused-expression
        sandbox.get({ objref: objects[10], property: 'value' }).value;
    }
    catch (e) {
        thrown = true;
    }
    test.ok(thrown);
});
defineTest('in/out primitive types', async (test, sandbox) => {
    const alltypes = sandbox.create({ fqn: 'jsii-calc.AllTypes', args: [] });
    sandbox.set({ objref: alltypes, property: 'booleanProperty', value: true });
    test.deepEqual(sandbox.get({ objref: alltypes, property: 'booleanProperty' }).value, true);
    sandbox.set({ objref: alltypes, property: 'booleanProperty', value: false });
    test.deepEqual(sandbox.get({ objref: alltypes, property: 'booleanProperty' }).value, false);
    sandbox.set({ objref: alltypes, property: 'stringProperty', value: 'hello' });
    test.deepEqual(sandbox.get({ objref: alltypes, property: 'stringProperty' }).value, 'hello');
    sandbox.set({ objref: alltypes, property: 'numberProperty', value: 123 });
    test.deepEqual(sandbox.get({ objref: alltypes, property: 'numberProperty' }).value, 123);
    const num = sandbox.create({ fqn: '@scope/jsii-calc-lib.Number', args: [444] });
    sandbox.set({ objref: alltypes, property: 'anyProperty', value: num });
    test.deepEqual(sandbox.get({ objref: alltypes, property: 'anyProperty' }).value, num);
});
defineTest('in/out objects', async (test, sandbox) => {
    const alltypes = sandbox.create({ fqn: 'jsii-calc.AllTypes' });
    const num = sandbox.create({ fqn: '@scope/jsii-calc-lib.Number', args: [444] });
    sandbox.set({ objref: alltypes, property: 'anyProperty', value: num });
    test.deepEqual(sandbox.get({ objref: alltypes, property: 'anyProperty' }).value, num);
});
defineTest('in/out collections', async (test, sandbox) => {
    const alltypes = sandbox.create({ fqn: 'jsii-calc.AllTypes', args: [] });
    const array = [1, 2, 3, 4];
    sandbox.set({ objref: alltypes, property: 'arrayProperty', value: array });
    test.deepEqual(sandbox.get({ objref: alltypes, property: 'arrayProperty' }).value, array);
    const map = { a: 12, b: 33, c: 33, d: { e: 123 } };
    sandbox.set({ objref: alltypes, property: 'mapProperty', value: map });
    test.deepEqual(sandbox.get({ objref: alltypes, property: 'mapProperty' }).value, map);
});
defineTest('in/out date values', async (test, sandbox) => {
    const alltypes = sandbox.create({ fqn: 'jsii-calc.AllTypes' });
    const date = new Date("2018-01-18T00:00:32.347Z");
    sandbox.set({ objref: alltypes, property: 'dateProperty', value: { [lib_1.api.TOKEN_DATE]: date.toISOString() } });
    test.deepEqual(sandbox.get({ objref: alltypes, property: 'dateProperty' }).value, { [lib_1.api.TOKEN_DATE]: '2018-01-18T00:00:32.347Z' });
});
defineTest('in/out enum values', async (test, sandbox) => {
    const alltypes = sandbox.create({ fqn: 'jsii-calc.AllTypes' });
    sandbox.set({ objref: alltypes, property: 'enumProperty', value: { [lib_1.api.TOKEN_ENUM]: 'jsii-calc.AllTypesEnum/MyEnumValue' } });
    test.equal(sandbox.get({ objref: alltypes, property: 'enumPropertyValue' }).value, 0);
    sandbox.set({ objref: alltypes, property: 'enumProperty', value: { [lib_1.api.TOKEN_ENUM]: 'jsii-calc.AllTypesEnum/YourEnumValue' } });
    test.equal(sandbox.get({ objref: alltypes, property: 'enumPropertyValue' }).value, 100);
    sandbox.set({ objref: alltypes, property: 'enumProperty', value: { [lib_1.api.TOKEN_ENUM]: 'jsii-calc.AllTypesEnum/ThisIsGreat' } });
    test.equal(sandbox.get({ objref: alltypes, property: 'enumPropertyValue' }).value, 101);
    test.deepEqual(sandbox.get({ objref: alltypes, property: 'enumProperty' }).value, { '$jsii.enum': 'jsii-calc.AllTypesEnum/ThisIsGreat' });
});
defineTest('enum values from @scoped packages awslabs/jsii#138', async (test, sandbox) => {
    const objref = sandbox.create({ fqn: 'jsii-calc.ReferenceEnumFromScopedPackage' });
    const value = sandbox.get({ objref, property: 'foo' });
    test.deepEqual(value, { value: { '$jsii.enum': '@scope/jsii-calc-lib.EnumFromScopedModule/Value2' } });
    sandbox.set({ objref, property: 'foo', value: { '$jsii.enum': '@scope/jsii-calc-lib.EnumFromScopedModule/Value1' } });
    const ret = sandbox.invoke({ objref, method: 'loadFoo' });
    test.deepEqual(ret, { result: { '$jsii.enum': '@scope/jsii-calc-lib.EnumFromScopedModule/Value1' } });
    sandbox.invoke({ objref, method: 'saveFoo', args: [{ '$jsii.enum': '@scope/jsii-calc-lib.EnumFromScopedModule/Value2' }] });
    const value2 = sandbox.get({ objref, property: 'foo' });
    test.deepEqual(value2, { value: { '$jsii.enum': '@scope/jsii-calc-lib.EnumFromScopedModule/Value2' } });
});
defineTest('fails for invalid enum member name', async (test, sandbox) => {
    const objref = sandbox.create({ fqn: 'jsii-calc.ReferenceEnumFromScopedPackage' });
    test.throws(() => {
        sandbox.set({ objref, property: 'foo', value: { '$jsii.enum': '@scope/jsii-calc-lib.EnumFromScopedModule/ValueX' } });
    }, /No enum member named ValueX/);
});
defineTest('set for a non existing property', async (test, sandbox) => {
    const obj = sandbox.create({ fqn: 'jsii-calc.SyncVirtualMethods' });
    test.throws(() => sandbox.set({ objref: obj, property: 'idontexist', value: 'Foo' }));
});
defineTest('set for a readonly property', async (test, sandbox) => {
    const obj = sandbox.create({ fqn: 'jsii-calc.SyncVirtualMethods' });
    test.throws(() => sandbox.set({ objref: obj, property: 'readonlyProperty', value: 'Foo' }));
});
defineTest('create object with ctor overloads', async (_test, sandbox) => {
    sandbox.create({ fqn: 'jsii-calc.Calculator' });
    const calcprops = sandbox.create({ fqn: 'jsii-calc.CalculatorProps', args: [] });
    sandbox.set({ objref: calcprops, property: 'initialValue', value: 100 });
    sandbox.create({ fqn: 'jsii-calc.Calculator', args: [calcprops] });
});
defineTest('objects created inside the sandbox are returned with type info and new objid', async (test, sandbox) => {
    const calcprops = sandbox.create({ fqn: 'jsii-calc.CalculatorProps' });
    sandbox.set({ objref: calcprops, property: 'initialValue', value: 100 });
    const calc = sandbox.create({ fqn: 'jsii-calc.Calculator', args: [calcprops] });
    sandbox.invoke({ objref: calc, method: 'add', args: [50] });
    const add = sandbox.get({ objref: calc, property: 'curr' }).value;
    test.deepEqual(sandbox.get({ objref: add, property: 'value' }).value, 150);
});
defineTest('naming allows returns the module name for different languages', async (test, sandbox) => {
    test.deepEqual(sandbox.naming({ assembly: 'jsii-calc' }).naming, {
        java: {
            package: 'software.amazon.jsii.tests.calculator',
            maven: { groupId: 'software.amazon.jsii.tests', artifactId: 'calculator' }
        },
        dotnet: {
            namespace: 'Amazon.JSII.Tests.CalculatorNamespace',
            packageId: 'Amazon.JSII.Tests.CalculatorPackageId',
        },
        js: { npm: 'jsii-calc' }
    });
    test.deepEqual(sandbox.naming({ assembly: '@scope/jsii-calc-lib' }).naming, {
        java: {
            package: 'software.amazon.jsii.tests.calculator.lib',
            maven: { groupId: 'software.amazon.jsii.tests', artifactId: 'calculator-lib' }
        },
        dotnet: {
            namespace: 'Amazon.JSII.Tests.CalculatorNamespace.LibNamespace',
            packageId: 'Amazon.JSII.Tests.CalculatorPackageId.LibPackageId'
        },
        js: { npm: '@scope/jsii-calc-lib' }
    });
});
defineTest('collection of objects', async (test, sandbox) => {
    const sum = sandbox.create({ fqn: 'jsii-calc.Sum' });
    const n1 = sandbox.create({ fqn: '@scope/jsii-calc-lib.Number', args: [10] });
    const n2 = sandbox.create({ fqn: '@scope/jsii-calc-lib.Number', args: [4] });
    const n3 = sandbox.create({ fqn: 'jsii-calc.Power', args: [n1, n2] });
    sandbox.set({ objref: sum, property: 'parts', value: [n1, n2, n3] });
    const parts = sandbox.get({ objref: sum, property: 'parts' }).value;
    test.equal(sandbox.get({ objref: parts[0], property: 'value' }).value, 10);
    test.equal(sandbox.get({ objref: parts[1], property: 'value' }).value, 4);
    test.equal(sandbox.get({ objref: parts[2], property: 'value' }).value, Math.pow(10, 4));
    const expr = sandbox.get({ objref: sum, property: 'expression' }).value;
    test.equal(sandbox.invoke({ objref: expr, method: 'toString' }).result, '(((0 + 10) + 4) + ((((1 * 10) * 10) * 10) * 10))');
    test.equal(sandbox.get({ objref: expr, property: 'value' }).value, 10014);
});
defineTest('class not found', async (test, sandbox) => {
    test.throws(() => sandbox.create({ fqn: 'NotFound', args: [] }));
});
defineTest('type-checking: method and property names are validated against class and base classes', async (test, sandbox) => {
    const obj = sandbox.create({ fqn: 'jsii-calc.Calculator' });
    sandbox.get({ objref: obj, property: 'stringStyle' }); // property from CompositeOperation
    sandbox.get({ objref: obj, property: 'value' }); // property from Value
    sandbox.get({ objref: obj, property: 'curr' }); // property from Calculator
    sandbox.invoke({ objref: obj, method: 'typeName' }); // method from Value
    sandbox.invoke({ objref: obj, method: 'add', args: [1] }); // method from Calculator
    test.throws(() => sandbox.get({ objref: obj, property: 'notFound' }));
    test.throws(() => sandbox.invoke({ objref: obj, method: 'boo', args: [] }));
});
defineTest('type-checking; module not found', async (test, sandbox) => {
    test.throws(() => sandbox.create({ fqn: 'jsii$boo.Foo' }), /Module 'jsii\$boo' not found/);
});
defineTest('type-checking: type not found', async (test, sandbox) => {
    test.throws(() => sandbox.create({ fqn: 'jsii-calc.Unknown' }), /Type 'jsii-calc.Unknown' not found/);
});
defineTest('type-checking: try to create an object from a non-class type', async (test, sandbox) => {
    test.throws(() => sandbox.create({ fqn: 'jsii-calc.AllTypesEnum' }), /Unexpected FQN kind/);
});
defineTest('type-checking: argument count in methods and initializers', async (test, sandbox) => {
    // ctor has one optional argument
    sandbox.create({ fqn: 'jsii-calc.Calculator' });
    sandbox.create({ fqn: 'jsii-calc.Calculator', args: [11] });
    // but we expect an error if more arguments are passed
    test.throws(() => sandbox.create({ fqn: 'jsii-calc.Calculator', args: [1, 2, 3] }), /Too many arguments/);
    test.throws(() => sandbox.create({ fqn: 'jsii-calc.Calculator', args: [1, 2, 3, 4] }), /Too many arguments/);
    test.throws(() => sandbox.create({ fqn: 'jsii-calc.Add', args: [] }), /Not enough arguments/);
    test.throws(() => sandbox.create({ fqn: 'jsii-calc.Add', args: [1] }), /Not enough arguments/);
    const obj = sandbox.create({ fqn: 'jsii-calc.RuntimeTypeChecking' });
    test.throws(() => sandbox.invoke({ objref: obj, method: 'methodWithOptionalArguments', args: [] }), /Not enough arguments/);
    test.throws(() => sandbox.invoke({ objref: obj, method: 'methodWithOptionalArguments', args: [1] }), /Not enough arguments/);
    sandbox.invoke({ objref: obj, method: 'methodWithOptionalArguments', args: [1, 'hello'] });
    sandbox.invoke({ objref: obj, method: 'methodWithOptionalArguments', args: [1, 'hello', new Date()] });
    test.throws(() => sandbox.invoke({ objref: obj, method: 'methodWithOptionalArguments', args: [1, 'hello', new Date(), 'too much'] }), /Too many arguments/);
});
defineTest('verify object literals are converted to real classes', async (test, sandbox) => {
    const obj = sandbox.create({ fqn: 'jsii-calc.JSObjectLiteralToNative' });
    const obj2 = sandbox.invoke({ objref: obj, method: 'returnLiteral' }).result;
    test.ok(obj2[lib_1.api.TOKEN_REF], 'verify that we received a ref as a result');
    const objid = obj2[lib_1.api.TOKEN_REF];
    test.ok(objid.startsWith('jsii-calc.JSObjectLiteralToNativeClass'), 'verify the type of the returned object');
});
defineTest('get a property from an type that only has base class properties', async (test, sandbox) => {
    const obj = sandbox.create({ fqn: 'jsii-calc.DerivedClassHasNoProperties.Derived' });
    sandbox.set({ objref: obj, property: 'prop', value: 'hi' });
    test.equal(sandbox.get({ objref: obj, property: 'prop' }).value, 'hi');
});
defineTest('async overrides: ignores overrides for unknown methods (to allow derived class to just pass all local method names)', async (_test, sandbox) => {
    sandbox.create({ fqn: 'jsii-calc.AsyncVirtualMethods', overrides: [{ method: 'notFound' }] });
});
defineTest('async overrides: override a method', async (test, sandbox) => {
    // first call without an override and expect pendingCallbacks to return
    // an empty array.
    const obj1 = sandbox.create({ fqn: 'jsii-calc.AsyncVirtualMethods' });
    async function callWithOverride(overrideCallback) {
        const promise1 = sandbox.begin({ objref: obj1, method: 'callMe' });
        test.equal(sandbox.callbacks().callbacks.length, 0, 'no overrides - no callbacks');
        const result1 = (await sandbox.end(promise1)).result;
        test.equals(result1, 128);
        // now add an override and complete it with a some value.
        const obj = sandbox.create({ fqn: 'jsii-calc.AsyncVirtualMethods', overrides: [{ method: 'overrideMe', cookie: 'myCookie' }] });
        const promise2 = sandbox.begin({ objref: obj, method: 'callMe' });
        const callbacks = sandbox.callbacks().callbacks;
        test.equal(callbacks.length, 1, 'callback to the override');
        const cb = callbacks[0];
        test.ok(cb.invoke);
        test.equal(cb.invoke.objref, obj, 'callback refers to object');
        test.equal(cb.invoke.method, 'overrideMe', 'callback refers to the correct method');
        test.equal(cb.cookie, 'myCookie', 'cookie is also passed');
        test.deepEqual(cb.invoke.args, [10], 'callback args');
        // calling pendingCallbacks again will return zero results
        // since all callbacks are moved to "waiting" state
        test.equal(sandbox.callbacks().callbacks.length, 0);
        // call the override
        let callbackResult;
        let callbackError;
        try {
            callbackResult = overrideCallback(cb.invoke.args[0]);
        }
        catch (e) {
            callbackError = e.message;
        }
        // complete the callback with a successful return value of 600
        sandbox.complete({ cbid: cb.cbid, err: callbackError, result: callbackResult });
        // await for the promise and verify that the completion was successfully
        // conveyed from the callback.
        return (await sandbox.end(promise2)).result;
    }
    test.equals(await callWithOverride(_ => 600), 608);
    test.equals(await callWithOverride(x => 2 * x), 28);
    // override throws
    let throws;
    try {
        await callWithOverride(_ => { throw new Error('Bla'); });
    }
    catch (e) {
        throws = e;
    }
    test.ok(throws);
    test.ok(throws.message);
    test.ok(throws.message.indexOf('Bla') !== -1);
});
defineTest('async overrides: directly call a method with an override from native code should invoke the "super.method" since it can only be done by the derived class', async (test, sandbox) => {
    const obj = sandbox.create({ fqn: 'jsii-calc.AsyncVirtualMethods', overrides: [{ method: 'overrideMe', cookie: 'myCookie' }] });
    const promise = sandbox.begin({ objref: obj, method: 'overrideMe', args: [12] });
    // no callbacks should be pending, since this should invoke "super"
    test.equals(sandbox.callbacks().callbacks.length, 0);
    test.equals((await sandbox.end(promise)).result, 144);
});
defineTest('async overrides: two overrides', async (test, sandbox) => {
    const obj = sandbox.create({ fqn: 'jsii-calc.AsyncVirtualMethods', overrides: [
            { method: 'overrideMeToo', cookie: 'cookie1' },
            { method: 'overrideMe', cookie: 'cookie2' }
        ] });
    const promise = sandbox.begin({ objref: obj, method: 'callMe' });
    const callbacks1 = sandbox.callbacks();
    test.equal(callbacks1.callbacks.length, 1);
    sandbox.complete({ cbid: callbacks1.callbacks[0].cbid, result: 666 });
    await processPendingPromises(sandbox); // processing next promise
    const callbacks2 = sandbox.callbacks();
    test.equal(callbacks2.callbacks.length, 1);
    sandbox.complete({ cbid: callbacks2.callbacks[0].cbid, result: 101 });
    await processPendingPromises(sandbox);
    const result = await sandbox.end({ promiseid: promise.promiseid });
    test.equal(result.result, 775);
});
/**
 * This test simulates a sitation where an async method is called, which invokes
 * an async override in return, but the override's promise is not called synchronously
 * but rather within the "next tick". This can happen (at the discression of the runtime
 * and we should verify that the jsii-runtime (or any runtime for that matter) "processes"
 * promises after a "begin" invocation in order to make sure any callbacks are queued.
 *
 * This is also relevant immediate after a "complete" invocation, which fulfills an async
 * promise and may subsequently queue more callbacks before one can "end" the original
 * async request.
 *
 * Yes, this is hairy.
 *
 * host.ts#93 is where this is implemented in the runtime.
 */
defineTest('async overrides - process promises after "begin"', async (test, sandbox) => {
    const obj = sandbox.create({ fqn: 'jsii-calc.AsyncVirtualMethods', overrides: [
            { method: 'overrideMe', cookie: 'cookie2' },
            { method: 'overrideMeToo' }
        ] });
    const p1 = sandbox.begin({ objref: obj, method: 'callMeDoublePromise' });
    // this is needed in order to cycle through another event loop so
    // that promises that are lazily called will be processed (nothing ensures
    // that the promise callback will be invokes synchronously).
    await processPendingPromises(sandbox);
    const callbacks1 = sandbox.callbacks();
    test.equal(callbacks1.callbacks.length, 1);
    // --------------- start of "override" execution
    // we simulate the situation where the override invokes another async override
    // call a sync method (just for fun)
    const out = sandbox.invoke({ objref: obj, method: 'dontOverrideMe' });
    test.deepEqual(out, { result: 8 });
    // call another overridden async method
    const p2 = sandbox.begin({ objref: obj, method: 'callMe2' });
    // we should get a a callback to overrideMe2
    const callback2 = sandbox.callbacks();
    test.equal(callback2.callbacks.length, 1);
    test.equal(callback2.callbacks[0].invoke.method, 'overrideMeToo');
    // complete the inner callback
    sandbox.complete({ cbid: callback2.callbacks[0].cbid, result: 9999 });
    // fetch it
    test.deepEqual(await sandbox.end({ promiseid: p2.promiseid }), { result: 9999 });
    // no more callbacks
    test.deepEqual(sandbox.callbacks(), { callbacks: [] });
    // now complete the outer callback
    await sandbox.complete({ cbid: callbacks1.callbacks[0].cbid, result: 8888 });
    // required: process pending promises so that we will get the next one in the callbacks list
    await processPendingPromises(sandbox);
    // ------ end of execution of "overrideMe"
    // now we expect 'overrideMeToo' to be called back
    const cb3 = sandbox.callbacks();
    test.equal(cb3.callbacks.length, 1);
    test.equal(cb3.callbacks[0].invoke.method, 'overrideMeToo');
    // complete it
    sandbox.complete({ cbid: cb3.callbacks[0].cbid, result: -20 });
    // no more callbacks
    const cb4 = sandbox.callbacks();
    test.equal(cb4.callbacks.length, 0);
    const result = await sandbox.end({ promiseid: p1.promiseid });
    test.equal(result.result, 8876);
});
function processPendingPromises(sandbox) {
    return vm.runInContext('new Promise(done => setImmediate(done));', sandbox.sandbox);
}
defineTest('sync overrides', async (test, sandbox) => {
    const pre = sandbox.create({ fqn: 'jsii-calc.SyncVirtualMethods' });
    // without override
    test.equal(sandbox.invoke({ objref: pre, method: 'callerIsMethod' }).result, 20);
    test.equal(sandbox.get({ objref: pre, property: 'callerIsProperty' }).value, 20);
    const p = sandbox.begin({ objref: pre, method: 'callerIsAsync' });
    test.equal((await sandbox.end({ promiseid: p.promiseid })).result, 20);
    sandbox.callbackHandler = makeSyncCallbackHandler(callback => {
        test.equal(callback.cookie, 'myCookie');
        test.ok(callback.invoke.objref[api_1.TOKEN_REF].includes('jsii-calc.SyncVirtualMethods'));
        test.equal(callback.invoke.method, 'virtualMethod');
        test.equal(callback.invoke.args[0], 10);
        // to make things a bit more interesting, let's interact with a jsii object
        // from within the callback
        const lhs = sandbox.create({ fqn: '@scope/jsii-calc-lib.Number', args: [callback.invoke.args[0]] });
        const rhs = sandbox.create({ fqn: '@scope/jsii-calc-lib.Number', args: [12] });
        const add = sandbox.create({ fqn: 'jsii-calc.Add', args: [lhs, rhs] });
        return sandbox.get({ objref: add, property: 'value' }).value;
    });
    // now make the same set of calls, and you will notice that the results are affected by the override.
    const obj = sandbox.create({ fqn: 'jsii-calc.SyncVirtualMethods', overrides: [{ method: 'virtualMethod', cookie: 'myCookie' }] });
    test.equal(sandbox.invoke({ objref: obj, method: 'callerIsMethod' }).result, 22);
    test.equal(sandbox.get({ objref: obj, property: 'callerIsProperty' }).value, 22);
    // verify callbacks can also be called by setters.
    let called = false;
    sandbox.callbackHandler = makeSyncCallbackHandler(callback => {
        test.equal(callback.invoke.args[0], 999);
        called = true;
    });
    sandbox.set({ objref: obj, property: 'callerIsProperty', value: 999 });
    test.ok(called);
});
defineTest('sync overrides with async caller', async (test, sandbox) => {
    sandbox.callbackHandler = makeSyncCallbackHandler(callback => {
        test.equal(callback.cookie, 'myCookie');
        test.ok(callback.invoke.objref[api_1.TOKEN_REF].includes('jsii-calc.SyncVirtualMethods'));
        test.equal(callback.invoke.method, 'virtualMethod');
        test.equal(callback.invoke.args[0], 10);
        // to make things a bit more interesting, let's interact with a jsii object
        // from within the callback
        const lhs = sandbox.create({ fqn: '@scope/jsii-calc-lib.Number', args: [callback.invoke.args[0]] });
        const rhs = sandbox.create({ fqn: '@scope/jsii-calc-lib.Number', args: [12] });
        const add = sandbox.create({ fqn: 'jsii-calc.Add', args: [lhs, rhs] });
        return sandbox.get({ objref: add, property: 'value' }).value;
    });
    const obj = sandbox.create({ fqn: 'jsii-calc.SyncVirtualMethods', overrides: [{ method: 'virtualMethod', cookie: 'myCookie' }] });
    const p2 = sandbox.begin({ objref: obj, method: 'callerIsAsync' });
    test.equal((await sandbox.end({ promiseid: p2.promiseid })).result, 22);
});
defineTest('sync overrides: properties - readwrite', async (test, sandbox) => {
    const obj = sandbox.create({ fqn: 'jsii-calc.SyncVirtualMethods', overrides: [{ property: 'theProperty', cookie: 'myCookie1234' }] });
    let setValue;
    sandbox.callbackHandler = makeSyncCallbackHandler(callback => {
        test.equal(callback.cookie, 'myCookie1234');
        if (callback.get) {
            test.equal(callback.get.property, 'theProperty');
            return 'override applied';
        }
        else if (callback.set) {
            test.equal(callback.set.property, 'theProperty');
            setValue = callback.set.value;
            return undefined;
        }
        else {
            throw new Error('Invalid callback. Expected get/set');
        }
    });
    const value = sandbox.invoke({ objref: obj, method: 'retrieveValueOfTheProperty' });
    test.deepEqual(value, { result: 'override applied' });
    // make sure we can still set the property
    sandbox.invoke({ objref: obj, method: 'modifyValueOfTheProperty', args: [1234] });
    test.deepEqual(setValue, 1234);
});
defineTest('sync overrides: properties - readwrite (backed by functions)', async (test, sandbox) => {
    const obj = sandbox.create({
        fqn: 'jsii-calc.SyncVirtualMethods',
        overrides: [{ property: 'otherProperty', cookie: 'myCookie1234' }]
    });
    let setValue;
    sandbox.callbackHandler = makeSyncCallbackHandler(callback => {
        test.equal(callback.cookie, 'myCookie1234');
        if (callback.get) {
            test.equal(callback.get.property, 'otherProperty');
            return 'override applied for otherProperty';
        }
        else if (callback.set) {
            test.equal(callback.set.property, 'otherProperty');
            setValue = callback.set.value;
            return undefined;
        }
        else {
            throw new Error('Invalid callback. Expected get/set');
        }
    });
    const value = sandbox.invoke({ objref: obj, method: 'retrieveOtherProperty' });
    test.deepEqual(value, { result: 'override applied for otherProperty' });
    // make sure we can still set the property
    sandbox.invoke({ objref: obj, method: 'modifyOtherProperty', args: [778877] });
    test.deepEqual(setValue, 778877);
});
defineTest('sync overrides: duplicate overrides for the same property', async (test, sandbox) => {
    test.throws(() => sandbox.create({
        fqn: 'jsii-calc.SyncVirtualMethods',
        overrides: [
            { property: 'otherProperty', cookie: 'myCookie1234' },
            { property: 'otherProperty', cookie: 'yourCookie' }
        ]
    }));
});
defineTest('sync overrides: properties - readonly', async (test, sandbox) => {
    const obj = sandbox.create({ fqn: 'jsii-calc.SyncVirtualMethods', overrides: [{ property: 'readonlyProperty', cookie: 'myCookie1234' }] });
    sandbox.callbackHandler = makeSyncCallbackHandler(callback => {
        test.equal(callback.cookie, 'myCookie1234');
        test.ok(callback.get);
        test.equal(callback.get.property, 'readonlyProperty');
        return 'override for readonly property applied';
    });
    const value = sandbox.invoke({ objref: obj, method: 'retrieveReadOnlyProperty' });
    test.deepEqual(value, { result: 'override for readonly property applied' });
    // can't set the value of a readonly property, dah!
    test.throws(() => sandbox.set({ objref: obj, property: 'readonlyProperty', value: 1234 }));
});
defineTest('sync overrides: properties - get calls super', async (test, sandbox) => {
    const obj = sandbox.create({ fqn: 'jsii-calc.SyncVirtualMethods', overrides: [{ property: 'theProperty' }] });
    sandbox.callbackHandler = makeSyncCallbackHandler(callback => {
        test.equal(callback.get.property, 'theProperty');
        const superValue = sandbox.get({ objref: obj, property: 'theProperty' });
        return 'override, super=' + superValue.value;
    });
    const value = sandbox.invoke({ objref: obj, method: 'retrieveValueOfTheProperty' });
    test.deepEqual(value, { result: 'override, super=initial value' });
});
defineTest('sync overrides: properties - set calls super', async (test, sandbox) => {
    const obj = sandbox.create({ fqn: 'jsii-calc.SyncVirtualMethods', overrides: [{ property: 'theProperty' }] });
    sandbox.callbackHandler = makeSyncCallbackHandler(callback => {
        if (callback.get) {
            return sandbox.get({ objref: obj, property: 'theProperty' }).value;
        }
        if (callback.set) {
            return sandbox.set({ objref: obj, property: 'theProperty', value: 'set by override: ' + callback.set.value });
        }
    });
    sandbox.invoke({ objref: obj, method: 'modifyValueOfTheProperty', args: ['new_value'] });
    const value = sandbox.invoke({ objref: obj, method: 'retrieveValueOfTheProperty' });
    test.deepEqual(value, { result: 'set by override: new_value' });
});
defineTest('sync overrides: properties - verify keys are enumerable', async (test, sandbox) => {
    const obj = sandbox.create({ fqn: 'Object', overrides: [{ property: 'foo' }, { property: 'readOnlyString' }] });
    const reader = sandbox.create({ fqn: 'jsii-calc.UsesInterfaceWithProperties', args: [obj] });
    sandbox.callbackHandler = makeSyncCallbackHandler(callback => {
        if (callback.get && callback.get.property === 'foo') {
            return 999;
        }
        if (callback.get && callback.get.property === 'readOnlyString') {
            return 'STR';
        }
        throw new Error('Unexpected callback');
    });
    const result = sandbox.invoke({ objref: reader, method: 'readStringAndNumber', args: [obj] });
    test.deepEqual(result, { result: 'base=STR child=999 keys=[foo,readOnlyString]' });
});
defineTest('sync overrides: returns an object', async (test, sandbox) => {
    const returnsNumber = sandbox.create({ fqn: 'Object', overrides: [{ method: 'obtainNumber' }, { property: 'numberProp' }] });
    const obj = sandbox.create({ fqn: 'jsii-calc.OverrideReturnsObject' });
    const number100 = sandbox.create({ fqn: '@scope/jsii-calc-lib.Number', args: [100] });
    const number500 = sandbox.create({ fqn: '@scope/jsii-calc-lib.Number', args: [500] });
    sandbox.callbackHandler = makeSyncCallbackHandler(callback => {
        if (callback.invoke && callback.invoke.method === 'obtainNumber') {
            return number100;
        }
        if (callback.get && callback.get.property === 'numberProp') {
            return number500;
        }
        throw new Error('Unexpected callback:' + JSON.stringify(callback));
    });
    const ret = sandbox.invoke({ objref: obj, method: 'test', args: [returnsNumber] });
    test.deepEqual(ret, { result: 100 * 2 + 500 * 2 });
});
defineTest('fail to begin async from sync - method', async (test, sandbox) => {
    const obj = sandbox.create({ fqn: 'jsii-calc.SyncVirtualMethods', overrides: [{ method: 'virtualMethod', cookie: 'myCookie' }] });
    let called = 0;
    sandbox.callbackHandler = makeSyncCallbackHandler(_ => {
        const innerObj = sandbox.create({ fqn: 'jsii-calc.AsyncVirtualMethods' });
        test.throws(() => sandbox.begin({ objref: innerObj, method: 'callMe' }));
        called++;
    });
    sandbox.invoke({ objref: obj, method: 'callerIsMethod' });
    test.equal(called, 1);
    sandbox.get({ objref: obj, property: 'callerIsProperty' });
    test.equal(called, 2);
    sandbox.set({ objref: obj, property: 'callerIsProperty', value: 33 });
    test.equal(called, 3);
});
defineTest('the "Object" FQN can be used to allow creating empty objects with overrides which comply with an interface', async (test, sandbox) => {
    const obj = sandbox.create({ fqn: 'jsii-calc.Polymorphism' });
    const friendly = sandbox.create({ fqn: 'Object', overrides: [{ method: 'hello' }] });
    sandbox.callbackHandler = makeSyncCallbackHandler(_ => 'oh, hello');
    const ret = sandbox.invoke({ objref: obj, method: 'sayHello', args: [friendly] });
    test.deepEqual(ret.result, 'oh, oh, hello');
});
defineTest('literal objects can be returned when an interface is expected, and they will be adorned with jsii metadata so they can be interacted with', async (test, sandbox) => {
    const obj = sandbox.create({ fqn: 'jsii-calc.JSObjectLiteralForInterface' });
    const ret = sandbox.invoke({ objref: obj, method: 'giveMeFriendly' });
    test.deepEqual(sandbox.invoke({ objref: ret.result, method: 'hello' }), { result: 'I am literally friendly!' });
    const ret2 = sandbox.invoke({ objref: obj, method: 'giveMeFriendlyGenerator' });
    test.deepEqual(sandbox.invoke({ objref: ret2.result, method: 'hello' }), { result: 'giveMeFriendlyGenerator' });
    test.deepEqual(sandbox.invoke({ objref: ret2.result, method: 'next' }), { result: 42 });
});
defineTest('exceptions include a stack trace into the original source code', async (test, sandbox) => {
    const obj = sandbox.create({ fqn: 'jsii-calc.Thrower' });
    test.throws(() => {
        try {
            sandbox.invoke({ objref: obj, method: 'throwError' });
        }
        catch (error) {
            const regexp = /^\s*at Thrower\.doThrowError \(.*jsii[-_]calc.*\/lib\/compliance\.ts:\d+:\d+\)$/m;
            test.ok(regexp.test(error.stack), 'The stack trace includes the path to the original source file');
            throw error;
        }
    });
});
defineTest('variadic methods can be called', async (test, sandbox) => {
    const obj = sandbox.create({ fqn: 'jsii-calc.VariadicMethod' });
    test.deepEqual(sandbox.invoke({ objref: obj, method: 'asArray', args: [1, 2, 3, 4] }).result, [1, 2, 3, 4]);
});
defineTest('variadic methods can be called without any vararg', async (test, sandbox) => {
    const obj = sandbox.create({ fqn: 'jsii-calc.VariadicMethod', args: [1, 2, 3] });
    test.deepEqual(sandbox.invoke({ objref: obj, method: 'asArray', args: [4] }).result, [1, 2, 3, 4]);
});
defineTest('static properties - get', async (test, sandbox) => {
    const value = sandbox.sget({ fqn: 'jsii-calc.Statics', property: 'Foo' });
    test.deepEqual(value, { value: 'hello' });
});
defineTest('fails: static properties - set readonly', async (test, sandbox) => {
    test.throws(() => sandbox.sset({ fqn: 'jsii-calc.Statics', property: 'Foo', value: 123 }));
});
defineTest('static properties - set', async (test, sandbox) => {
    const defaultInstance = sandbox.sget({ fqn: 'jsii-calc.Statics', property: 'instance' });
    test.deepEqual(sandbox.get({ objref: defaultInstance.value, property: 'value' }), { value: 'default' });
    const obj = sandbox.create({ fqn: 'jsii-calc.Statics', args: ['MyInstance'] });
    sandbox.sset({ fqn: 'jsii-calc.Statics', property: 'instance', value: obj });
    const updatedInstance = sandbox.sget({ fqn: 'jsii-calc.Statics', property: 'instance' });
    test.deepEqual(sandbox.get({ objref: updatedInstance.value, property: 'value' }), { value: 'MyInstance' });
});
defineTest('fails: static properties - get/set non-static', async (test, sandbox) => {
    test.throws(() => sandbox.sget({ fqn: 'jsii-calc.Statics', property: 'value' }), /is not static/);
    test.throws(() => sandbox.sset({ fqn: 'jsii-calc.Statics', property: 'value', value: 123 }), /is not static/);
});
defineTest('fails: static properties - get/set not found', async (test, sandbox) => {
    test.throws(() => sandbox.sget({ fqn: 'jsii-calc.Statics', property: 'zoo' }), /doesn't have a property/);
    test.throws(() => sandbox.sset({ fqn: 'jsii-calc.Statics', property: 'bar', value: 123 }), /doesn't have a property/);
});
defineTest('static methods', async (test, sandbox) => {
    const result = sandbox.sinvoke({ fqn: 'jsii-calc.Statics', method: 'staticMethod', args: ['Jsii'] });
    test.deepEqual(result, { result: 'hello ,Jsii!' });
});
defineTest('fails: static methods - not found', async (test, sandbox) => {
    test.throws(() => sandbox.sinvoke({ fqn: 'jsii-calc.Statics', method: 'staticMethodNotFound', args: ['Jsii'] }), /doesn't have a method/);
});
defineTest('fails: static methods - not static', async (test, sandbox) => {
    test.throws(() => sandbox.sinvoke({ fqn: 'jsii-calc.Statics', method: 'justMethod', args: ['Jsii'] }), /is not a static method/);
});
defineTest('loading a module twice idepotently succeeds', async (_test, sandbox) => {
    await sandbox.load({
        tarball: await preparePackage('jsii-calc', false),
        name: 'jsii-calc',
        version: calcVersion
    });
});
defineTest('fails if trying to load two different versions of the same module', async (test, sandbox) => {
    let thrown = false;
    try {
        await sandbox.load({ tarball: await preparePackage('jsii-calc', false), name: 'jsii-calc', version: '99.999.9' });
    }
    catch (e) {
        test.ok(/Multiple versions .+ and .+ of the package 'jsii-calc' cannot be loaded together/.test(e.message));
        thrown = true;
    }
    test.ok(thrown);
});
defineTest('node.js standard library', async (test, sandbox) => {
    const objref = sandbox.create({ fqn: 'jsii-calc.NodeStandardLibrary' });
    const promise = sandbox.begin({ objref, method: 'fsReadFile' });
    await processPendingPromises(sandbox);
    const output = await sandbox.end({ promiseid: promise.promiseid });
    test.deepEqual(output, { result: 'Hello, resource!' });
    test.deepEqual(sandbox.invoke({ objref, method: 'fsReadFileSync' }), { result: 'Hello, resource! SYNC!' });
    const platform = sandbox.get({ objref, property: 'osPlatform' }).value;
    test.ok(platform && platform.length > 0);
    test.deepEqual(sandbox.invoke({ objref, method: 'cryptoSha256' }), { result: "6a2da20943931e9834fc12cfe5bb47bbd9ae43489a30726962b576f4e3993e50" });
});
// @see awslabs/jsii#248
defineTest('object literals are returned by reference', async (test, sandbox) => {
    const objref = sandbox.create({ fqn: 'jsii-calc.ClassWithMutableObjectLiteralProperty' });
    const property = sandbox.get({ objref, property: 'mutableObject' }).value;
    const newValue = 'Bazinga!1!';
    sandbox.set({ objref: property, property: 'value', value: newValue });
    test.equal(newValue, sandbox.get({
        objref: sandbox.get({ objref, property: 'mutableObject' }).value,
        property: 'value'
    }).value);
    sandbox.del({ objref: property });
});
defineTest('overrides: method instead of property with the same name', async (test, sandbox) => {
    test.throws(() => {
        sandbox.create({ fqn: 'jsii-calc.SyncVirtualMethods', overrides: [
                { method: 'theProperty' }
            ] });
    }, /Trying to override property/);
});
defineTest('overrides: property instead of method with the same name', async (test, sandbox) => {
    test.throws(() => {
        sandbox.create({ fqn: 'jsii-calc.SyncVirtualMethods', overrides: [
                { property: 'virtualMethod' }
            ] });
    }, /Trying to override method/);
});
defineTest('overrides: skip overrides of private methods', async (test, sandbox) => {
    const objref = sandbox.create({ fqn: 'jsii-calc.DoNotOverridePrivates', overrides: [
            { method: 'privateMethod' }
        ] });
    sandbox.callbackHandler = makeSyncCallbackHandler(_ => {
        test.ok(false, 'override callback should not be called');
        return 'privateMethodBoom!';
    });
    const result = sandbox.invoke({ objref, method: 'privateMethodValue' });
    test.deepEqual(result.result, 'privateMethod');
});
defineTest('overrides: skip overrides of private properties', async (test, sandbox) => {
    const objref = sandbox.create({ fqn: 'jsii-calc.DoNotOverridePrivates', overrides: [
            { property: 'privateProperty' }
        ] });
    sandbox.callbackHandler = makeSyncCallbackHandler(_ => {
        test.ok(false, 'override callback should not be called');
        return 'privatePropertyBoom!';
    });
    const result = sandbox.invoke({ objref, method: 'privatePropertyValue' });
    test.deepEqual(result.result, 'privateProperty');
});
defineTest('nulls are converted to undefined - ctor', async (_test, sandbox) => {
    sandbox.create({ fqn: 'jsii-calc.NullShouldBeTreatedAsUndefined', args: ["foo", null] });
});
defineTest('nulls are converted to undefined - method arguments', async (_test, sandbox) => {
    const objref = sandbox.create({ fqn: 'jsii-calc.NullShouldBeTreatedAsUndefined', args: ["foo"] });
    sandbox.invoke({ objref, method: 'giveMeUndefined', args: [null] });
});
defineTest('nulls are converted to undefined - inside objects', async (_test, sandbox) => {
    const objref = sandbox.create({ fqn: 'jsii-calc.NullShouldBeTreatedAsUndefined', args: ["foo"] });
    sandbox.invoke({ objref, method: 'giveMeUndefinedInsideAnObject', args: [{
                thisShouldBeUndefined: null,
                arrayWithThreeElementsAndUndefinedAsSecondArgument: ['one', null, 'two']
            }] });
});
defineTest('nulls are converted to undefined - properties', async (_test, sandbox) => {
    const objref = sandbox.create({ fqn: 'jsii-calc.NullShouldBeTreatedAsUndefined', args: ["foo"] });
    sandbox.set({ objref, property: 'changeMeToUndefined', value: null });
    sandbox.invoke({ objref, method: 'verifyPropertyIsUndefined' });
});
// =================================================================================================
const testNames = {};
async function createCalculatorSandbox(name) {
    if (name in testNames) {
        throw new Error(`Duplicate test name: ${name}`);
    }
    testNames[name] = true;
    const initialCallbackHandler = () => {
        throw new Error('Callback invoked without a callback handler');
    };
    const sandbox = new lib_1.Kernel(initialCallbackHandler);
    if (recordingOutput) {
        const inputOutputLogPath = path_1.join(recordingOutput, `${name}.log`);
        recording_1.recordInteraction(sandbox, inputOutputLogPath);
    }
    sandbox.traceEnabled = `${process.env.JSII_DEBUG}` === '1';
    await sandbox.load({ tarball: await preparePackage('@scope/jsii-calc-base'), name: '@scope/jsii-calc-base', version: calcBaseVersion });
    await sandbox.load({ tarball: await preparePackage('@scope/jsii-calc-lib'), name: '@scope/jsii-calc-lib', version: calcLibVersion });
    await sandbox.load({ tarball: await preparePackage('jsii-calc'), name: 'jsii-calc', version: calcVersion });
    return sandbox;
}
const cache = {};
async function preparePackage(module, useCache = true) {
    if (module in cache && useCache) {
        return cache[module];
    }
    const staging = await fs.mkdtemp('/tmp/jsii-kernel-tests-');
    // clean up only if we are not recording, so playback can refer to these
    if (!recordingOutput) {
        process.on('exit', () => fs.removeSync(staging)); // cleanup
    }
    const packageRoot = findPackageRoot(module);
    await new Promise((ok, ko) => {
        const child = childProcess.spawn('npm', ['pack', packageRoot], { cwd: staging, shell: true, stdio: ['ignore', 'pipe', 'ignore'] });
        const stdout = new Array();
        child.stdout.on('data', chunk => stdout.push(Buffer.from(chunk)));
        child.once('exit', async (code, signal) => {
            if (code === 0) {
                return ok();
            }
            if (code != null) {
                return ko(`Process exited with code ${code}`);
            }
            ko(`Process killed by signal ${signal}`);
        });
    });
    const dir = path.join(staging, (await fs.readdir(staging))[0]);
    cache[module] = dir;
    return dir;
}
function findPackageRoot(pkg) {
    return path.resolve(path.join(require.resolve(`${pkg}/package.json`), '..'));
}
/**
 * synchronous overrides are implemented as a simple callback function that gets
 * all the information needed to perform the callback and return the result.
 */
function makeSyncCallbackHandler(logic) {
    return function (callback) {
        const sandbox = this;
        // since sync callbacks must be handled at host level, we will "fake"
        // how jsii-runtime and a client will interact when a callback is requested
        const recording = sandbox.logfile;
        if (recording) {
            // jsii-runtime => client (callback request from the runtime)
            recording.write(`< ${JSON.stringify({ callback })}\n`);
        }
        const result = logic(callback);
        if (recording) {
            // client => jsii-runtime (callback completion by client)
            recording.write(`> ${JSON.stringify({ complete: { cbid: callback.cbid, result } })}\n`);
        }
        return result;
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVzdC5rZXJuZWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJ0ZXN0Lmtlcm5lbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLDhDQUErQztBQUMvQywrQkFBZ0M7QUFFaEMsK0JBQTRCO0FBQzVCLDZCQUE4QjtBQUM5Qix5QkFBMEI7QUFDMUIsZ0NBQXFDO0FBQ3JDLG9DQUFpRDtBQUNqRCwyQ0FBZ0U7QUFFaEUsK0JBQStCO0FBQy9CLGlDQUFpQztBQUNqQyxNQUFNLGVBQWUsR0FBRyxPQUFPLENBQUMsb0NBQW9DLENBQUMsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxFQUFFLENBQUMsQ0FBQztBQUNuRyxNQUFNLGNBQWMsR0FBRyxPQUFPLENBQUMsbUNBQW1DLENBQUMsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxFQUFFLENBQUMsQ0FBQztBQUNqRyxNQUFNLFdBQVcsR0FBRyxPQUFPLENBQUMsd0JBQXdCLENBQUMsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxFQUFFLENBQUMsQ0FBQztBQUNuRixnQ0FBZ0M7QUFFaEMsNEJBQTRCO0FBQzVCLGlDQUFpQztBQUVqQyxPQUFPLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsNERBQTREO0FBRTNGLE9BQU8sQ0FBQyxFQUFFLENBQUMsb0JBQW9CLEVBQUUsQ0FBQyxDQUFDLEVBQUU7SUFDakMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDdkIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNwQixDQUFDLENBQUMsQ0FBQztBQUVILE1BQU0sZUFBZSxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDO0FBQ2hELElBQUksZUFBZSxFQUFFO0lBQ2pCLEVBQUUsQ0FBQyxVQUFVLENBQUMsZUFBZSxDQUFDLENBQUM7SUFDL0IsT0FBTyxDQUFD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QTZCLEVBQUUsSUFBSSxFQUFFLENBQUUsQ0FBQyxDQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQy9FLE1BQU0sRUFBRSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRSxHQUFHLEVBQUUsaUJBQWlCLEVBQUUsSUFBSSxFQUFFLENBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBRSxFQUFFLENBQUMsQ0FBQztJQUV4RSxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxDQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFFLEVBQUUsQ0FBQyxDQUFDO0lBRXZFLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQztJQUNwRSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsQ0FBQyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsQ0FBQztJQUMzRSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztJQUMxRSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsQ0FBQyxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBRXhGLE1BQU0sSUFBSSxHQUFHLE9BQU8sQ0FBQyxHQUFHLENB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SSxDQUFDLENBQUM7U0FDMUQ7UUFFRCxNQUFNLE1BQU0sR0FBRyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7UUFFL0IsSUFBSSxTQUFTLEVBQUU7WUFDWCx5REFBeUQ7WUFDekQsU0FBUyxDQUFDLEtBQUssQ0FBQyxLQUFLLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxRQUFRLEVBQUUsRUFBRSxJQUFJLEVBQUUsUUFBUSxDQUFDLElBQUksRUFBRSxNQUFNLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQzNGO1FBRUQsT0FBTyxNQUFNLENBQUM7SUFDbEIsQ0FBQyxDQUFDO0FBQ04sQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjaGlsZFByb2Nlc3MgPSByZXF1aXJlKCdjaGlsZF9wcm9jZXNzJyk7XG5pbXBvcnQgZnMgPSByZXF1aXJlKCdmcy1leHRyYScpO1xuaW1wb3J0IHsgVGVzdCB9IGZyb20gJ25vZGV1bml0JztcbmltcG9ydCB7IGpvaW4gfSBmcm9tICdwYXRoJztcbmltcG9ydCBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuaW1wb3J0IHZtID0gcmVxdWlyZSgndm0nKTtcbmltcG9ydCB7IGFwaSwgS2VybmVsIH0gZnJvbSAnLi4vbGliJztcbmltcG9ydCB7IENhbGxiYWNrLCBUT0tFTl9SRUYgfSBmcm9tICcuLi9saWIvYXBpJztcbmltcG9ydCB7IGNsb3NlUmVjb3JkaW5nLCByZWNvcmRJbnRlcmFjdGlvbiB9IGZyb20gJy4vcmVjb3JkaW5nJztcblxuLy8gZXh0cmFjdCB2ZXJzaW9ucyBvZiBmaXh0dXJlc1xuLy8gdHNsaW50OmRpc2FibGU6bm8tdmFyLXJlcXVpcmVzXG5jb25zdCBjYWxjQmFzZVZlcnNpb24gPSByZXF1aXJlKCdAc2NvcGUvanNpaS1jYWxjLWJhc2UvcGFja2FnZS5qc29uJykudmVyc2lvbi5yZXBsYWNlKC9cXCsuKyQvLCAnJyk7XG5jb25zdCBjYWxjTGliVmVyc2lvbiA9IHJlcXVpcmUoJ0BzY29wZS9qc2lpLWNhbGMtbGliL3BhY2thZ2UuanNvbicpLnZlcnNpb24ucmVwbGFjZSgvXFwrLiskLywgJycpO1xuY29uc3QgY2FsY1ZlcnNpb24gPSByZXF1aXJlKCdqc2lpLWNhbGMvcGFja2FnZS5qc29uJykudmVyc2lvbi5yZXBsYWNlKC9cXCsuKyQvLCAnJyk7XG4vLyB0c2xpbnQ6ZW5hYmxlOm5vLXZhci1yZXF1aXJlc1xuXG4vLyB0c2xpbnQ6ZGlzYWJsZTpuby1jb25zb2xlXG4vLyB0c2xpbnQ6ZGlzYWJsZTptYXgtbGluZS1sZW5ndGhcblxucHJvY2Vzcy5zZXRNYXhMaXN0ZW5lcnMoOTk5OSk7IC8vIHNpbmNlIGV2ZXJ5IGtlcm5lbCBpbnN0YW5jZSBhZGRzIGFuIGBvbignZXhpdCcpYCBoYW5kbGVyLlxuXG5wcm9jZXNzLm9uKCd1bmhhbmRsZWRSZWplY3Rpb24nLCBlID0+IHtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHByb2Nlc3MuZXhpdCgxKTtcbn0pO1xuXG5jb25zdCByZWNvcmRpbmdPdXRwdXQgPSBwcm9jZXNzLmVudi5KU0lJX1JFQ09SRDtcbmlmIChyZWNvcmRpbmdPdXRwdXQpIHtcbiAgICBmcy5ta2RpcnBTeW5jKHJlY29yZGluZ091dHB1dCk7XG4gICAgY29uc29sZS5lcnJvcignSlNJSV9SRUNPUkQ9JyArIHJlY29yZGluZ091dHB1dCk7XG59XG5cbmNvbnN0IHRlc3RzOiBhbnkgPSBtb2R1bGUuZXhwb3J0cyA9IHsgfTtcblxuZnVuY3Rpb24gZGVmaW5lVGVzdChuYW1lOiBzdHJpbmcsIG1ldGhvZDogKHRlc3Q6IFRlc3QsIHNhbmRib3g6IEtlcm5lbCkgPT4gUHJvbWlzZTx2b2lkPikge1xuICAgIGNvbnN0IHJlY29yZGluZyA9IG5hbWUucmVwbGFjZSgvW15BLVphLXpdL2csICdfJyk7XG5cbiAgICB0ZXN0c1tuYW1lXSA9IGFzeW5jICh0ZXN0OiBUZXN0KSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBrZXJuZWwgPSBhd2FpdCBjcmVhdGVDYWxjdWxhdG9yU2FuZGJveChyZWNvcmRpbmcpO1xuICAgICAgICAgICAgYXdhaXQgbWV0aG9kKHRlc3QsIGtlcm5lbCk7XG4gICAgICAgICAgICBhd2FpdCBjbG9zZVJlY29yZGluZyhrZXJuZWwpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdGVzdC5kb25lKCk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5kZWZpbmVUZXN0KCdzYW5kYm94IGFsbG93cyBsb2FkaW5nIGFyYml0cmFyeSBqYXZhc2NyaXB0IGludG8gaXQnLCBhc3luYyAodGVzdCwgc2FuZGJveCkgPT4ge1xuICAgIGNvbnN0IG9iamlkID0gc2FuZGJveC5jcmVhdGUoeyBmcW46ICdAc2NvcGUvanNpaS1jYWxjLWxpYi5OdW1iZXInLCBhcmdzOiBbIDEyIF0gfSk7XG4gICAgdGVzdC5kZWVwRXF1YWwoc2FuZGJveC5nZXQoeyBvYmpyZWY6IG9iamlkLCBwcm9wZXJ0eTogJ2RvdWJsZVZhbHVlJyB9KS52YWx1ZSwgMjQpO1xuICAgIHRlc3QuZGVlcEVxdWFsKHNhbmRib3guaW52b2tlKHsgb2JqcmVmOiBvYmppZCwgbWV0aG9kOiAndHlwZU5hbWUnLCBhcmdzOiBbXSB9KS5yZXN1bHQsICdOdW1iZXInKTtcblxuICAgIGNvbnN0IGxocyA9IHNhbmRib3guY3JlYXRlKHsgZnFuOiAnQHNjb3BlL2pzaWktY2FsYy1saWIuTnVtYmVyJywgYXJnczogWyAxMCBdIH0pO1xuICAgIGNvbnN0IHJocyA9IHNhbmRib3guY3JlYXRlKHsgZnFuOiAnQHNjb3BlL2pzaWktY2FsYy1saWIuTnVtYmVyJywgYXJnczogWyAyMCBdIH0pO1xuICAgIGNvbnN0IGFkZCA9IHNhbmRib3guY3JlYXRlKHsgZnFuOiAnanNpaS1jYWxjLkFkZCcsIGFyZ3M6IFsgbGhzLCByaHMgXX0pO1xuXG4gICAgdGVzdC5kZWVwRXF1YWwoc2FuZGJveC5nZXQoeyBvYmpyZWY6IGFkZCwgcHJvcGVydHk6ICd2YWx1ZScgfSkudmFsdWUsIDMwKTtcbn0pO1xuXG5kZWZpbmVUZXN0KCdzdGF0cygpIHJldHVybiBzYW5kYm94IHN0YXRpc3RpY3MnLCBhc3luYyAodGVzdCwgc2FuZGJveCkgPT4ge1xuICAgIGNvbnN0IHN0YXRzID0gc2FuZGJveC5zdGF0cyh7IH0pO1xuICAgIHRlc3QuZXF1YWwoc3RhdHMub2JqZWN0Q291bnQsIDApO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDA7ICsraSkge1xuICAgICAgICBzYW5kYm94LmNyZWF0ZSh7IGZxbjogJ0BzY29wZS9qc2lpLWNhbGMtbGliLk51bWJlcicsIGFyZ3M6IFsgaSBdIH0pO1xuICAgIH1cblxuICAgIHRlc3QuZXF1YWwoc2FuZGJveC5zdGF0cyh7IH0pLm9iamVjdENvdW50LCAxMDApO1xufSk7XG5cbmRlZmluZVRlc3QoJ3N0YXRzKCkgcmV0dXJuIHNhbmRib3ggc3RhdGlzdGljcycsIGFzeW5jICh0ZXN0LCBzYW5kYm94KSA9PiB7XG4gICAgY29uc3Qgc3RhdHMgPSBzYW5kYm94LnN0YXRzKHsgfSk7XG4gICAgdGVzdC5lcXVhbChzdGF0cy5vYmplY3RDb3VudCwgMCk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwMDsgKytpKSB7XG4gICAgICAgIHNhbmRib3guY3JlYXRlKHsgZnFuOiAnQHNjb3BlL2pzaWktY2FsYy1saWIuTnVtYmVyJywgYXJnczogWyBpIF0gfSk7XG4gICAgfVxuXG4gICAgdGVzdC5lcXVhbChzYW5kYm94LnN0YXRzKHsgfSkub2JqZWN0Q291bnQsIDEwMCk7XG59KTtcblxuZGVmaW5lVGVzdCgnZGVsZXRlT2JqZWN0IHdpbGwgcmVtb3ZlIHRoZSByZWZlcmVuY2UnLCBhc3luYyAodGVzdCwgc2FuZGJveCkgPT4ge1xuICAgIGNvbnN0IG9iamVjdHMgPSBbXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTAwOyArK2kpIHtcbiAgICAgICAgb2JqZWN0cy5wdXNoKHNhbmRib3guY3JlYXRlKHsgZnFuOiAnQHNjb3BlL2pzaWktY2FsYy1saWIuTnVtYmVyJywgYXJnczogWyBpIF0gfSkpO1xuICAgIH1cblxuICAgIHRlc3QuZXF1YWwoc2FuZGJveC5zdGF0cyh7IH0pLm9iamVjdENvdW50LCAxMDApO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1MDsgKytpKSB7XG4gICAgICAgIHNhbmRib3guZGVsKHsgb2JqcmVmOiBvYmplY3RzW2ldIH0pO1xuICAgIH1cblxuICAgIHRlc3QuZXF1YWwoc2FuZGJveC5zdGF0cyh7IH0pLm9iamVjdENvdW50LCA1MCk7XG5cbiAgICAvLyB0cnkgdG8gYWNjZXNzIGFuIG9iamVjdCBhZnRlciBpdCBoYXMgYmVlbiBkZWxldGVkXG4gICAgbGV0IHRocm93biA9IGZhbHNlO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLWV4cHJlc3Npb25cbiAgICAgICAgc2FuZGJveC5nZXQoeyBvYmpyZWY6IG9iamVjdHNbMTBdLCBwcm9wZXJ0eTogJ3ZhbHVlJyB9KS52YWx1ZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHRocm93biA9IHRydWU7XG4gICAgfVxuXG4gICAgdGVzdC5vayh0aHJvd24pO1xufSk7XG5cbmRlZmluZVRlc3QoJ2luL291dCBwcmltaXRpdmUgdHlwZXMnLCBhc3luYyAodGVzdCwgc2FuZGJveCkgPT4ge1xuICAgIGNvbnN0IGFsbHR5cGVzID0gc2FuZGJveC5jcmVhdGUoeyBmcW46ICdqc2lpLWNhbGMuQWxsVHlwZXMnLCBhcmdzOiBbIF0gfSk7XG5cbiAgICBzYW5kYm94LnNldCh7IG9ianJlZjogYWxsdHlwZXMsIHByb3BlcnR5OiAnYm9vbGVhblByb3BlcnR5JywgdmFsdWU6IHRydWUgfSk7XG4gICAgdGVzdC5kZWVwRXF1YWwoc2FuZGJveC5nZXQoeyBvYmpyZWY6IGFsbHR5cGVzLCBwcm9wZXJ0eTogJ2Jvb2xlYW5Qcm9wZXJ0eScgfSkudmFsdWUsIHRydWUpO1xuXG4gICAgc2FuZGJveC5zZXQoeyBvYmpyZWY6IGFsbHR5cGVzLCBwcm9wZXJ0eTogJ2Jvb2xlYW5Qcm9wZXJ0eScsIHZhbHVlOiBmYWxzZSB9KTtcbiAgICB0ZXN0LmRlZXBFcXVhbChzYW5kYm94LmdldCh7IG9ianJlZjogYWxsdHlwZXMsIHByb3BlcnR5OiAnYm9vbGVhblByb3BlcnR5J30pLnZhbHVlLCBmYWxzZSk7XG5cbiAgICBzYW5kYm94LnNldCh7IG9ianJlZjogYWxsdHlwZXMsIHByb3BlcnR5OiAnc3RyaW5nUHJvcGVydHknLCB2YWx1ZTogJ2hlbGxvJyB9KTtcbiAgICB0ZXN0LmRlZXBFcXVhbChzYW5kYm94LmdldCh7IG9ianJlZjogYWxsdHlwZXMsIHByb3BlcnR5OiAnc3RyaW5nUHJvcGVydHknfSkudmFsdWUsICdoZWxsbycpO1xuXG4gICAgc2FuZGJveC5zZXQoeyBvYmpyZWY6IGFsbHR5cGVzLCBwcm9wZXJ0eTogJ251bWJlclByb3BlcnR5JywgdmFsdWU6IDEyMyB9KTtcbiAgICB0ZXN0LmRlZXBFcXVhbChzYW5kYm94LmdldCh7IG9ianJlZjogYWxsdHlwZXMsIHByb3BlcnR5OiAnbnVtYmVyUHJvcGVydHknIH0pLnZhbHVlLCAxMjMpO1xuXG4gICAgY29uc3QgbnVtID0gc2FuZGJveC5jcmVhdGUoeyBmcW46ICdAc2NvcGUvanNpaS1jYWxjLWxpYi5OdW1iZXInLCBhcmdzOiBbIDQ0NCBdIH0pO1xuICAgIHNhbmRib3guc2V0KHsgb2JqcmVmOiBhbGx0eXBlcywgcHJvcGVydHk6ICdhbnlQcm9wZXJ0eScsIHZhbHVlOiBudW0gfSk7XG4gICAgdGVzdC5kZWVwRXF1YWwoc2FuZGJveC5nZXQoeyBvYmpyZWY6IGFsbHR5cGVzLCBwcm9wZXJ0eTogJ2FueVByb3BlcnR5JyB9KS52YWx1ZSwgbnVtKTtcbn0pO1xuXG5kZWZpbmVUZXN0KCdpbi9vdXQgb2JqZWN0cycsIGFzeW5jICh0ZXN0LCBzYW5kYm94KSA9PiB7XG4gICAgY29uc3QgYWxsdHlwZXMgPSBzYW5kYm94LmNyZWF0ZSh7IGZxbjogJ2pzaWktY2FsYy5BbGxUeXBlcycgfSk7XG5cbiAgICBjb25zdCBudW0gPSBzYW5kYm94LmNyZWF0ZSh7IGZxbjogJ0BzY29wZS9qc2lpLWNhbGMtbGliLk51bWJlcicsIGFyZ3M6IFsgNDQ0IF0gfSk7XG4gICAgc2FuZGJveC5zZXQoeyBvYmpyZWY6IGFsbHR5cGVzLCBwcm9wZXJ0eTogJ2FueVByb3BlcnR5JywgdmFsdWU6IG51bSB9KTtcbiAgICB0ZXN0LmRlZXBFcXVhbChzYW5kYm94LmdldCh7IG9ianJlZjogYWxsdHlwZXMsIHByb3BlcnR5OiAnYW55UHJvcGVydHknIH0pLnZhbHVlLCBudW0pO1xufSk7XG5cbmRlZmluZVRlc3QoJ2luL291dCBjb2xsZWN0aW9ucycsIGFzeW5jICh0ZXN0LCBzYW5kYm94KSA9PiB7XG4gICAgY29uc3QgYWxsdHlwZXMgPSBzYW5kYm94LmNyZWF0ZSh7IGZxbjogJ2pzaWktY2FsYy5BbGxUeXBlcycsIGFyZ3M6IFsgXSB9KTtcblxuICAgIGNvbnN0IGFycmF5ID0gWyAxLCAyLCAzLCA0IF07XG4gICAgc2FuZGJveC5zZXQoeyBvYmpyZWY6IGFsbHR5cGVzLCBwcm9wZXJ0eTogJ2FycmF5UHJvcGVydHknLCB2YWx1ZTogYXJyYXkgfSk7XG4gICAgdGVzdC5kZWVwRXF1YWwoc2FuZGJveC5nZXQoeyBvYmpyZWY6IGFsbHR5cGVzLCBwcm9wZXJ0eTogJ2FycmF5UHJvcGVydHknIH0pLnZhbHVlLCBhcnJheSk7XG5cbiAgICBjb25zdCBtYXAgPSB7IGE6IDEyLCBiOiAzMywgYzogMzMsIGQ6IHsgZTogMTIzIH19O1xuICAgIHNhbmRib3guc2V0KHsgb2JqcmVmOiBhbGx0eXBlcywgcHJvcGVydHk6ICdtYXBQcm9wZXJ0eScsIHZhbHVlOiBtYXAgfSk7XG4gICAgdGVzdC5kZWVwRXF1YWwoc2FuZGJveC5nZXQoeyBvYmpyZWY6IGFsbHR5cGVzLCBwcm9wZXJ0eTogJ21hcFByb3BlcnR5JyB9KS52YWx1ZSwgbWFwKTtcbn0pO1xuXG5kZWZpbmVUZXN0KCdpbi9vdXQgZGF0ZSB2YWx1ZXMnLCBhc3luYyAodGVzdCwgc2FuZGJveCkgPT4ge1xuICAgIGNvbnN0IGFsbHR5cGVzID0gc2FuZGJveC5jcmVhdGUoeyBmcW46ICdqc2lpLWNhbGMuQWxsVHlwZXMnIH0pO1xuXG4gICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKFwiMjAxOC0wMS0xOFQwMDowMDozMi4zNDdaXCIpO1xuICAgIHNhbmRib3guc2V0KHsgb2JqcmVmOiBhbGx0eXBlcywgcHJvcGVydHk6ICdkYXRlUHJvcGVydHknLCB2YWx1ZTogeyBbYXBpLlRPS0VOX0RBVEVdOiBkYXRlLnRvSVNPU3RyaW5nKCkgfSB9KTtcbiAgICB0ZXN0LmRlZXBFcXVhbChzYW5kYm94LmdldCh7IG9ianJlZjogYWxsdHlwZXMsIHByb3BlcnR5OiAnZGF0ZVByb3BlcnR5JyB9KS52YWx1ZSwgeyBbYXBpLlRPS0VOX0RBVEVdOiAnMjAxOC0wMS0xOFQwMDowMDozMi4zNDdaJyB9KTtcbn0pO1xuXG5kZWZpbmVUZXN0KCdpbi9vdXQgZW51bSB2YWx1ZXMnLCBhc3luYyAodGVzdCwgc2FuZGJveCkgPT4ge1xuICAgIGNvbnN0IGFsbHR5cGVzID0gc2FuZGJveC5jcmVhdGUoeyBmcW46ICdqc2lpLWNhbGMuQWxsVHlwZXMnIH0pO1xuXG4gICAgc2FuZGJveC5zZXQoeyBvYmpyZWY6IGFsbHR5cGVzLCBwcm9wZXJ0eTogJ2VudW1Qcm9wZXJ0eScsIHZhbHVlOiB7IFthcGkuVE9LRU5fRU5VTV06ICdqc2lpLWNhbGMuQWxsVHlwZXNFbnVtL015RW51bVZhbHVlJyB9IH0pO1xuICAgIHRlc3QuZXF1YWwoc2FuZGJveC5nZXQoeyBvYmpyZWY6IGFsbHR5cGVzLCBwcm9wZXJ0eTogJ2VudW1Qcm9wZXJ0eVZhbHVlJyB9KS52YWx1ZSwgMCk7XG4gICAgc2FuZGJveC5zZXQoeyBvYmpyZWY6IGFsbHR5cGVzLCBwcm9wZXJ0eTogJ2VudW1Qcm9wZXJ0eScsIHZhbHVlOiB7IFthcGkuVE9LRU5fRU5VTV06ICdqc2lpLWNhbGMuQWxsVHlwZXNFbnVtL1lvdXJFbnVtVmFsdWUnIH0gfSk7XG4gICAgdGVzdC5lcXVhbChzYW5kYm94LmdldCh7IG9ianJlZjogYWxsdHlwZXMsIHByb3BlcnR5OiAnZW51bVByb3BlcnR5VmFsdWUnIH0pLnZhbHVlLCAxMDApO1xuICAgIHNhbmRib3guc2V0KHsgb2JqcmVmOiBhbGx0eXBlcywgcHJvcGVydHk6ICdlbnVtUHJvcGVydHknLCB2YWx1ZTogeyBbYXBpLlRPS0VOX0VOVU1dOiAnanNpaS1jYWxjLkFsbFR5cGVzRW51bS9UaGlzSXNHcmVhdCcgfSB9KTtcbiAgICB0ZXN0LmVxdWFsKHNhbmRib3guZ2V0KHsgb2JqcmVmOiBhbGx0eXBlcywgcHJvcGVydHk6ICdlbnVtUHJvcGVydHlWYWx1ZScgfSkudmFsdWUsIDEwMSk7XG4gICAgdGVzdC5kZWVwRXF1YWwoc2FuZGJveC5nZXQoeyBvYmpyZWY6IGFsbHR5cGVzLCBwcm9wZXJ0eTogJ2VudW1Qcm9wZXJ0eScgfSkudmFsdWUsIHsgJyRqc2lpLmVudW0nOiAnanNpaS1jYWxjLkFsbFR5cGVzRW51bS9UaGlzSXNHcmVhdCcgfSk7XG59KTtcblxuZGVmaW5lVGVzdCgnZW51bSB2YWx1ZXMgZnJvbSBAc2NvcGVkIHBhY2thZ2VzIGF3c2xhYnMvanNpaSMxMzgnLCBhc3luYyAodGVzdCwgc2FuZGJveCkgPT4ge1xuICAgIGNvbnN0IG9ianJlZiA9IHNhbmRib3guY3JlYXRlKHsgZnFuOiAnanNpaS1jYWxjLlJlZmVyZW5jZUVudW1Gcm9tU2NvcGVkUGFja2FnZScgfSk7XG5cbiAgICBjb25zdCB2YWx1ZSA9IHNhbmRib3guZ2V0KHsgb2JqcmVmLCBwcm9wZXJ0eTogJ2ZvbycgfSk7XG4gICAgdGVzdC5kZWVwRXF1YWwodmFsdWUsIHsgdmFsdWU6IHsgJyRqc2lpLmVudW0nOiAnQHNjb3BlL2pzaWktY2FsYy1saWIuRW51bUZyb21TY29wZWRNb2R1bGUvVmFsdWUyJyB9IH0pO1xuXG4gICAgc2FuZGJveC5zZXQoeyBvYmpyZWYsIHByb3BlcnR5OiAnZm9vJywgdmFsdWU6IHsgJyRqc2lpLmVudW0nOiAnQHNjb3BlL2pzaWktY2FsYy1saWIuRW51bUZyb21TY29wZWRNb2R1bGUvVmFsdWUxJyB9fSk7XG4gICAgY29uc3QgcmV0ID0gc2FuZGJveC5pbnZva2UoeyBvYmpyZWYsIG1ldGhvZDogJ2xvYWRGb28nIH0pO1xuICAgIHRlc3QuZGVlcEVxdWFsKHJldCwgeyByZXN1bHQ6IHsgJyRqc2lpLmVudW0nOiAnQHNjb3BlL2pzaWktY2FsYy1saWIuRW51bUZyb21TY29wZWRNb2R1bGUvVmFsdWUxJyB9IH0pO1xuXG4gICAgc2FuZGJveC5pbnZva2UoeyBvYmpyZWYsIG1ldGhvZDogJ3NhdmVGb28nLCBhcmdzOiBbIHsgJyRqc2lpLmVudW0nOiAnQHNjb3BlL2pzaWktY2FsYy1saWIuRW51bUZyb21TY29wZWRNb2R1bGUvVmFsdWUyJyB9IF0gfSk7XG4gICAgY29uc3QgdmFsdWUyID0gc2FuZGJveC5nZXQoeyBvYmpyZWYsIHByb3BlcnR5OiAnZm9vJyB9KTtcbiAgICB0ZXN0LmRlZXBFcXVhbCh2YWx1ZTIsIHsgdmFsdWU6IHsgJyRqc2lpLmVudW0nOiAnQHNjb3BlL2pzaWktY2FsYy1saWIuRW51bUZyb21TY29wZWRNb2R1bGUvVmFsdWUyJyB9IH0pO1xufSk7XG5cbmRlZmluZVRlc3QoJ2ZhaWxzIGZvciBpbnZhbGlkIGVudW0gbWVtYmVyIG5hbWUnLCBhc3luYyAodGVzdCwgc2FuZGJveCkgPT4ge1xuICAgIGNvbnN0IG9ianJlZiA9IHNhbmRib3guY3JlYXRlKHsgZnFuOiAnanNpaS1jYWxjLlJlZmVyZW5jZUVudW1Gcm9tU2NvcGVkUGFja2FnZScgfSk7XG5cbiAgICB0ZXN0LnRocm93cygoKSA9PiB7XG4gICAgICAgIHNhbmRib3guc2V0KHsgb2JqcmVmLCBwcm9wZXJ0eTogJ2ZvbycsIHZhbHVlOiB7ICckanNpaS5lbnVtJzogJ0BzY29wZS9qc2lpLWNhbGMtbGliLkVudW1Gcm9tU2NvcGVkTW9kdWxlL1ZhbHVlWCcgfX0pO1xuICAgIH0sIC9ObyBlbnVtIG1lbWJlciBuYW1lZCBWYWx1ZVgvKTtcbn0pO1xuXG5kZWZpbmVUZXN0KCdzZXQgZm9yIGEgbm9uIGV4aXN0aW5nIHByb3BlcnR5JywgYXN5bmMgKHRlc3QsIHNhbmRib3gpID0+IHtcbiAgICBjb25zdCBvYmogPSBzYW5kYm94LmNyZWF0ZSh7IGZxbjogJ2pzaWktY2FsYy5TeW5jVmlydHVhbE1ldGhvZHMnIH0pO1xuICAgIHRlc3QudGhyb3dzKCgpID0+IHNhbmRib3guc2V0KHsgb2JqcmVmOiBvYmosIHByb3BlcnR5OiAnaWRvbnRleGlzdCcsIHZhbHVlOiAnRm9vJyB9KSk7XG59KTtcblxuZGVmaW5lVGVzdCgnc2V0IGZvciBhIHJlYWRvbmx5IHByb3BlcnR5JywgYXN5bmMgKHRlc3QsIHNhbmRib3gpID0+IHtcbiAgICBjb25zdCBvYmogPSBzYW5kYm94LmNyZWF0ZSh7IGZxbjogJ2pzaWktY2FsYy5TeW5jVmlydHVhbE1ldGhvZHMnIH0pO1xuICAgIHRlc3QudGhyb3dzKCgpID0+IHNhbmRib3guc2V0KHsgb2JqcmVmOiBvYmosIHByb3BlcnR5OiAncmVhZG9ubHlQcm9wZXJ0eScsIHZhbHVlOiAnRm9vJyB9KSk7XG59KTtcblxuZGVmaW5lVGVzdCgnY3JlYXRlIG9iamVjdCB3aXRoIGN0b3Igb3ZlcmxvYWRzJywgYXN5bmMgKF90ZXN0LCBzYW5kYm94KSA9PiB7XG4gICAgc2FuZGJveC5jcmVhdGUoeyBmcW46ICdqc2lpLWNhbGMuQ2FsY3VsYXRvcicgfSk7XG5cbiAgICBjb25zdCBjYWxjcHJvcHMgPSBzYW5kYm94LmNyZWF0ZSh7IGZxbjogJ2pzaWktY2FsYy5DYWxjdWxhdG9yUHJvcHMnLCBhcmdzOiBbIF0gfSk7XG4gICAgc2FuZGJveC5zZXQoeyBvYmpyZWY6IGNhbGNwcm9wcywgcHJvcGVydHk6ICdpbml0aWFsVmFsdWUnLCB2YWx1ZTogMTAwIH0pO1xuICAgIHNhbmRib3guY3JlYXRlKHsgZnFuOiAnanNpaS1jYWxjLkNhbGN1bGF0b3InLCBhcmdzOiBbIGNhbGNwcm9wcyBdIH0pO1xufSk7XG5cbmRlZmluZVRlc3QoJ29iamVjdHMgY3JlYXRlZCBpbnNpZGUgdGhlIHNhbmRib3ggYXJlIHJldHVybmVkIHdpdGggdHlwZSBpbmZvIGFuZCBuZXcgb2JqaWQnLCBhc3luYyAodGVzdCwgc2FuZGJveCkgPT4ge1xuICAgIGNvbnN0IGNhbGNwcm9wcyA9IHNhbmRib3guY3JlYXRlKHsgZnFuOiAnanNpaS1jYWxjLkNhbGN1bGF0b3JQcm9wcycgfSk7XG4gICAgc2FuZGJveC5zZXQoeyBvYmpyZWY6IGNhbGNwcm9wcywgcHJvcGVydHk6ICdpbml0aWFsVmFsdWUnLCB2YWx1ZTogMTAwIH0pO1xuXG4gICAgY29uc3QgY2FsYyA9IHNhbmRib3guY3JlYXRlKHsgZnFuOiAnanNpaS1jYWxjLkNhbGN1bGF0b3InLCBhcmdzOiBbIGNhbGNwcm9wcyBdIH0pO1xuICAgIHNhbmRib3guaW52b2tlKHsgb2JqcmVmOiBjYWxjLCBtZXRob2Q6ICdhZGQnLCBhcmdzOiBbIDUwIF0gfSk7XG5cbiAgICBjb25zdCBhZGQgPSBzYW5kYm94LmdldCh7IG9ianJlZjogY2FsYywgcHJvcGVydHk6ICdjdXJyJyB9KS52YWx1ZTtcbiAgICB0ZXN0LmRlZXBFcXVhbChzYW5kYm94LmdldCh7IG9ianJlZjogYWRkLCBwcm9wZXJ0eTogJ3ZhbHVlJyB9KS52YWx1ZSwgMTUwKTtcbn0pO1xuXG5kZWZpbmVUZXN0KCduYW1pbmcgYWxsb3dzIHJldHVybnMgdGhlIG1vZHVsZSBuYW1lIGZvciBkaWZmZXJlbnQgbGFuZ3VhZ2VzJywgYXN5bmMgKHRlc3QsIHNhbmRib3gpID0+IHtcbiAgICB0ZXN0LmRlZXBFcXVhbChzYW5kYm94Lm5hbWluZyh7IGFzc2VtYmx5OiAnanNpaS1jYWxjJyB9KS5uYW1pbmcsIHtcbiAgICAgICAgamF2YToge1xuICAgICAgICAgICAgcGFja2FnZTogJ3NvZnR3YXJlLmFtYXpvbi5qc2lpLnRlc3RzLmNhbGN1bGF0b3InLFxuICAgICAgICAgICAgbWF2ZW46IHsgZ3JvdXBJZDogJ3NvZnR3YXJlLmFtYXpvbi5qc2lpLnRlc3RzJywgYXJ0aWZhY3RJZDogJ2NhbGN1bGF0b3InIH1cbiAgICAgICAgfSxcbiAgICAgICAgZG90bmV0OiB7XG4gICAgICAgICAgICBuYW1lc3BhY2U6ICdBbWF6b24uSlNJSS5UZXN0cy5DYWxjdWxhdG9yTmFtZXNwYWNlJyxcbiAgICAgICAgICAgIHBhY2thZ2VJZDogJ0FtYXpvbi5KU0lJLlRlc3RzLkNhbGN1bGF0b3JQYWNrYWdlSWQnLFxuICAgICAgICB9LFxuICAgICAgICBqczogeyBucG06ICdqc2lpLWNhbGMnIH1cbiAgICB9KTtcbiAgICB0ZXN0LmRlZXBFcXVhbChzYW5kYm94Lm5hbWluZyh7IGFzc2VtYmx5OiAnQHNjb3BlL2pzaWktY2FsYy1saWInIH0pLm5hbWluZywge1xuICAgICAgICBqYXZhOiB7XG4gICAgICAgICAgICBwYWNrYWdlOiAnc29mdHdhcmUuYW1hem9uLmpzaWkudGVzdHMuY2FsY3VsYXRvci5saWInLFxuICAgICAgICAgICAgbWF2ZW46IHsgZ3JvdXBJZDogJ3NvZnR3YXJlLmFtYXpvbi5qc2lpLnRlc3RzJywgYXJ0aWZhY3RJZDogJ2NhbGN1bGF0b3ItbGliJyB9XG4gICAgICAgIH0sXG4gICAgICAgIGRvdG5ldDoge1xuICAgICAgICAgICAgbmFtZXNwYWNlOiAnQW1hem9uLkpTSUkuVGVzdHMuQ2FsY3VsYXRvck5hbWVzcGFjZS5MaWJOYW1lc3BhY2UnLFxuICAgICAgICAgICAgcGFja2FnZUlkOiAnQW1hem9uLkpTSUkuVGVzdHMuQ2FsY3VsYXRvclBhY2thZ2VJZC5MaWJQYWNrYWdlSWQnXG4gICAgICAgIH0sXG4gICAgICAgIGpzOiB7IG5wbTogJ0BzY29wZS9qc2lpLWNhbGMtbGliJyB9XG4gICAgfSk7XG59KTtcblxuZGVmaW5lVGVzdCgnY29sbGVjdGlvbiBvZiBvYmplY3RzJywgYXN5bmMgKHRlc3QsIHNhbmRib3gpID0+IHtcbiAgICBjb25zdCBzdW0gPSBzYW5kYm94LmNyZWF0ZSh7IGZxbjogJ2pzaWktY2FsYy5TdW0nIH0pO1xuXG4gICAgY29uc3QgbjEgPSBzYW5kYm94LmNyZWF0ZSh7IGZxbjogJ0BzY29wZS9qc2lpLWNhbGMtbGliLk51bWJlcicsIGFyZ3M6IFsgMTAgXSB9KTtcbiAgICBjb25zdCBuMiA9IHNhbmRib3guY3JlYXRlKHsgZnFuOiAnQHNjb3BlL2pzaWktY2FsYy1saWIuTnVtYmVyJywgYXJnczogWyA0IF0gfSk7XG4gICAgY29uc3QgbjMgPSBzYW5kYm94LmNyZWF0ZSh7IGZxbjogJ2pzaWktY2FsYy5Qb3dlcicsIGFyZ3M6IFsgbjEsIG4yIF0gfSk7XG5cbiAgICBzYW5kYm94LnNldCh7IG9ianJlZjogc3VtLCBwcm9wZXJ0eTogJ3BhcnRzJywgdmFsdWU6IFsgbjEsIG4yLCBuMyBdIH0pO1xuXG4gICAgY29uc3QgcGFydHMgPSBzYW5kYm94LmdldCh7IG9ianJlZjogc3VtLCBwcm9wZXJ0eTogJ3BhcnRzJyB9KS52YWx1ZTtcbiAgICB0ZXN0LmVxdWFsKHNhbmRib3guZ2V0KHsgb2JqcmVmOiBwYXJ0c1swXSwgcHJvcGVydHk6ICd2YWx1ZScgfSkudmFsdWUsIDEwKTtcbiAgICB0ZXN0LmVxdWFsKHNhbmRib3guZ2V0KHsgb2JqcmVmOiBwYXJ0c1sxXSwgcHJvcGVydHk6ICd2YWx1ZScgfSkudmFsdWUsIDQpO1xuICAgIHRlc3QuZXF1YWwoc2FuZGJveC5nZXQoeyBvYmpyZWY6IHBhcnRzWzJdLCBwcm9wZXJ0eTogJ3ZhbHVlJyB9KS52YWx1ZSwgTWF0aC5wb3coMTAsIDQpKTtcblxuICAgIGNvbnN0IGV4cHIgPSBzYW5kYm94LmdldCh7IG9ianJlZjogc3VtLCBwcm9wZXJ0eTogJ2V4cHJlc3Npb24nIH0pLnZhbHVlO1xuICAgIHRlc3QuZXF1YWwoc2FuZGJveC5pbnZva2UoeyBvYmpyZWY6IGV4cHIsIG1ldGhvZDogJ3RvU3RyaW5nJyB9KS5yZXN1bHQsICcoKCgwICsgMTApICsgNCkgKyAoKCgoMSAqIDEwKSAqIDEwKSAqIDEwKSAqIDEwKSknKTtcbiAgICB0ZXN0LmVxdWFsKHNhbmRib3guZ2V0KHsgb2JqcmVmOiBleHByLCBwcm9wZXJ0eTogJ3ZhbHVlJyB9KS52YWx1ZSwgMTAwMTQpO1xufSk7XG5cbmRlZmluZVRlc3QoJ2NsYXNzIG5vdCBmb3VuZCcsIGFzeW5jICh0ZXN0LCBzYW5kYm94KSA9PiB7XG4gICAgdGVzdC50aHJvd3MoKCkgPT4gc2FuZGJveC5jcmVhdGUoeyBmcW46ICdOb3RGb3VuZCcsIGFyZ3M6IFtdIH0pKTtcbn0pO1xuXG5kZWZpbmVUZXN0KCd0eXBlLWNoZWNraW5nOiBtZXRob2QgYW5kIHByb3BlcnR5IG5hbWVzIGFyZSB2YWxpZGF0ZWQgYWdhaW5zdCBjbGFzcyBhbmQgYmFzZSBjbGFzc2VzJywgYXN5bmMgKHRlc3QsIHNhbmRib3gpID0+IHtcbiAgICBjb25zdCBvYmogPSBzYW5kYm94LmNyZWF0ZSh7IGZxbjogJ2pzaWktY2FsYy5DYWxjdWxhdG9yJyB9KTtcblxuICAgIHNhbmRib3guZ2V0KHsgb2JqcmVmOiBvYmosIHByb3BlcnR5OiAnc3RyaW5nU3R5bGUnIH0pOyAvLyBwcm9wZXJ0eSBmcm9tIENvbXBvc2l0ZU9wZXJhdGlvblxuICAgIHNhbmRib3guZ2V0KHsgb2JqcmVmOiBvYmosIHByb3BlcnR5OiAndmFsdWUnIH0pOyAvLyBwcm9wZXJ0eSBmcm9tIFZhbHVlXG4gICAgc2FuZGJveC5nZXQoeyBvYmpyZWY6IG9iaiwgcHJvcGVydHk6ICdjdXJyJyB9KTsgLy8gcHJvcGVydHkgZnJvbSBDYWxjdWxhdG9yXG5cbiAgICBzYW5kYm94Lmludm9rZSh7IG9ianJlZjogb2JqLCBtZXRob2Q6ICd0eXBlTmFtZScgfSk7IC8vIG1ldGhvZCBmcm9tIFZhbHVlXG4gICAgc2FuZGJveC5pbnZva2UoeyBvYmpyZWY6IG9iaiwgbWV0aG9kOiAnYWRkJywgYXJnczogWyAxIF19KTsgLy8gbWV0aG9kIGZyb20gQ2FsY3VsYXRvclxuXG4gICAgdGVzdC50aHJvd3MoKCkgPT4gc2FuZGJveC5nZXQoeyBvYmpyZWY6IG9iaiwgcHJvcGVydHk6ICdub3RGb3VuZCcgfSkpO1xuICAgIHRlc3QudGhyb3dzKCgpID0+IHNhbmRib3guaW52b2tlKHsgb2JqcmVmOiBvYmosIG1ldGhvZDogJ2JvbycsIGFyZ3M6IFtdIH0pKTtcbn0pO1xuXG5kZWZpbmVUZXN0KCd0eXBlLWNoZWNraW5nOyBtb2R1bGUgbm90IGZvdW5kJywgYXN5bmMgKHRlc3QsIHNhbmRib3gpID0+IHtcbiAgICB0ZXN0LnRocm93cygoKSA9PiBzYW5kYm94LmNyZWF0ZSh7IGZxbjogJ2pzaWkkYm9vLkZvbycgfSksIC9Nb2R1bGUgJ2pzaWlcXCRib28nIG5vdCBmb3VuZC8pO1xufSk7XG5cbmRlZmluZVRlc3QoJ3R5cGUtY2hlY2tpbmc6IHR5cGUgbm90IGZvdW5kJywgYXN5bmMgKHRlc3QsIHNhbmRib3gpID0+IHtcbiAgICB0ZXN0LnRocm93cygoKSA9PiBzYW5kYm94LmNyZWF0ZSh7IGZxbjogJ2pzaWktY2FsYy5Vbmtub3duJyB9KSwgL1R5cGUgJ2pzaWktY2FsYy5Vbmtub3duJyBub3QgZm91bmQvKTtcbn0pO1xuXG5kZWZpbmVUZXN0KCd0eXBlLWNoZWNraW5nOiB0cnkgdG8gY3JlYXRlIGFuIG9iamVjdCBmcm9tIGEgbm9uLWNsYXNzIHR5cGUnLCBhc3luYyAodGVzdCwgc2FuZGJveCkgPT4ge1xuICAgIHRlc3QudGhyb3dzKCgpID0+IHNhbmRib3guY3JlYXRlKHsgZnFuOiAnanNpaS1jYWxjLkFsbFR5cGVzRW51bScgfSksIC9VbmV4cGVjdGVkIEZRTiBraW5kLyk7XG59KTtcblxuZGVmaW5lVGVzdCgndHlwZS1jaGVja2luZzogYXJndW1lbnQgY291bnQgaW4gbWV0aG9kcyBhbmQgaW5pdGlhbGl6ZXJzJywgYXN5bmMgKHRlc3QsIHNhbmRib3gpID0+IHtcbiAgICAvLyBjdG9yIGhhcyBvbmUgb3B0aW9uYWwgYXJndW1lbnRcbiAgICBzYW5kYm94LmNyZWF0ZSh7IGZxbjogJ2pzaWktY2FsYy5DYWxjdWxhdG9yJyB9KTtcbiAgICBzYW5kYm94LmNyZWF0ZSh7IGZxbjogJ2pzaWktY2FsYy5DYWxjdWxhdG9yJywgYXJnczogWyAxMSBdIH0pO1xuXG4gICAgLy8gYnV0IHdlIGV4cGVjdCBhbiBlcnJvciBpZiBtb3JlIGFyZ3VtZW50cyBhcmUgcGFzc2VkXG4gICAgdGVzdC50aHJvd3MoKCkgPT4gc2FuZGJveC5jcmVhdGUoeyBmcW46ICdqc2lpLWNhbGMuQ2FsY3VsYXRvcicsIGFyZ3M6IFsgMSwgMiwgMyBdIH0pLCAvVG9vIG1hbnkgYXJndW1lbnRzLyk7XG4gICAgdGVzdC50aHJvd3MoKCkgPT4gc2FuZGJveC5jcmVhdGUoeyBmcW46ICdqc2lpLWNhbGMuQ2FsY3VsYXRvcicsIGFyZ3M6IFsgMSwgMiwgMywgNCBdfSksIC9Ub28gbWFueSBhcmd1bWVudHMvKTtcblxuICAgIHRlc3QudGhyb3dzKCgpID0+IHNhbmRib3guY3JlYXRlKHsgZnFuOiAnanNpaS1jYWxjLkFkZCcsIGFyZ3M6IFsgXX0pLCAvTm90IGVub3VnaCBhcmd1bWVudHMvKTtcbiAgICB0ZXN0LnRocm93cygoKSA9PiBzYW5kYm94LmNyZWF0ZSh7IGZxbjogJ2pzaWktY2FsYy5BZGQnLCBhcmdzOiBbIDEgXX0pLCAvTm90IGVub3VnaCBhcmd1bWVudHMvKTtcblxuICAgIGNvbnN0IG9iaiA9IHNhbmRib3guY3JlYXRlKHsgZnFuOiAnanNpaS1jYWxjLlJ1bnRpbWVUeXBlQ2hlY2tpbmcnIH0pO1xuICAgIHRlc3QudGhyb3dzKCgpID0+IHNhbmRib3guaW52b2tlKHsgb2JqcmVmOiBvYmosIG1ldGhvZDogJ21ldGhvZFdpdGhPcHRpb25hbEFyZ3VtZW50cycsIGFyZ3M6IFtdIH0pLCAvTm90IGVub3VnaCBhcmd1bWVudHMvKTtcbiAgICB0ZXN0LnRocm93cygoKSA9PiBzYW5kYm94Lmludm9rZSh7IG9ianJlZjogb2JqLCBtZXRob2Q6ICdtZXRob2RXaXRoT3B0aW9uYWxBcmd1bWVudHMnLCBhcmdzOiBbIDEgXX0pLCAvTm90IGVub3VnaCBhcmd1bWVudHMvKTtcbiAgICBzYW5kYm94Lmludm9rZSh7IG9ianJlZjogb2JqLCBtZXRob2Q6ICdtZXRob2RXaXRoT3B0aW9uYWxBcmd1bWVudHMnLCBhcmdzOiBbIDEsICdoZWxsbycgXSB9KTtcbiAgICBzYW5kYm94Lmludm9rZSh7IG9ianJlZjogb2JqLCBtZXRob2Q6ICdtZXRob2RXaXRoT3B0aW9uYWxBcmd1bWVudHMnLCBhcmdzOiBbIDEsICdoZWxsbycsIG5ldyBEYXRlKCkgXSB9KTtcbiAgICB0ZXN0LnRocm93cygoKSA9PiBzYW5kYm94Lmludm9rZSh7IG9ianJlZjogb2JqLCBtZXRob2Q6ICdtZXRob2RXaXRoT3B0aW9uYWxBcmd1bWVudHMnLCBhcmdzOiBbIDEsICdoZWxsbycsIG5ldyBEYXRlKCksICd0b28gbXVjaCcgXSB9KSwgL1RvbyBtYW55IGFyZ3VtZW50cy8pO1xufSk7XG5cbmRlZmluZVRlc3QoJ3ZlcmlmeSBvYmplY3QgbGl0ZXJhbHMgYXJlIGNvbnZlcnRlZCB0byByZWFsIGNsYXNzZXMnLCBhc3luYyAodGVzdCwgc2FuZGJveCkgPT4ge1xuICAgIGNvbnN0IG9iaiA9IHNhbmRib3guY3JlYXRlKHsgZnFuOiAnanNpaS1jYWxjLkpTT2JqZWN0TGl0ZXJhbFRvTmF0aXZlJyB9KTtcbiAgICBjb25zdCBvYmoyID0gc2FuZGJveC5pbnZva2UoeyBvYmpyZWY6IG9iaiwgbWV0aG9kOiAncmV0dXJuTGl0ZXJhbCcgfSkucmVzdWx0O1xuXG4gICAgdGVzdC5vayhvYmoyW2FwaS5UT0tFTl9SRUZdLCAndmVyaWZ5IHRoYXQgd2UgcmVjZWl2ZWQgYSByZWYgYXMgYSByZXN1bHQnKTtcblxuICAgIGNvbnN0IG9iamlkOiBzdHJpbmcgPSBvYmoyW2FwaS5UT0tFTl9SRUZdO1xuICAgIHRlc3Qub2sob2JqaWQuc3RhcnRzV2l0aCgnanNpaS1jYWxjLkpTT2JqZWN0TGl0ZXJhbFRvTmF0aXZlQ2xhc3MnKSxcbiAgICAgICAgJ3ZlcmlmeSB0aGUgdHlwZSBvZiB0aGUgcmV0dXJuZWQgb2JqZWN0Jyk7XG59KTtcblxuZGVmaW5lVGVzdCgnZ2V0IGEgcHJvcGVydHkgZnJvbSBhbiB0eXBlIHRoYXQgb25seSBoYXMgYmFzZSBjbGFzcyBwcm9wZXJ0aWVzJywgYXN5bmMgKHRlc3QsIHNhbmRib3gpID0+IHtcbiAgICBjb25zdCBvYmogPSBzYW5kYm94LmNyZWF0ZSh7IGZxbjogJ2pzaWktY2FsYy5EZXJpdmVkQ2xhc3NIYXNOb1Byb3BlcnRpZXMuRGVyaXZlZCcgfSk7XG4gICAgc2FuZGJveC5zZXQoeyBvYmpyZWY6IG9iaiwgcHJvcGVydHk6ICdwcm9wJywgdmFsdWU6ICdoaScgfSk7XG4gICAgdGVzdC5lcXVhbChzYW5kYm94LmdldCh7IG9ianJlZjogb2JqLCBwcm9wZXJ0eTogJ3Byb3AnIH0pLnZhbHVlLCAnaGknKTtcbn0pO1xuXG5kZWZpbmVUZXN0KCdhc3luYyBvdmVycmlkZXM6IGlnbm9yZXMgb3ZlcnJpZGVzIGZvciB1bmtub3duIG1ldGhvZHMgKHRvIGFsbG93IGRlcml2ZWQgY2xhc3MgdG8ganVzdCBwYXNzIGFsbCBsb2NhbCBtZXRob2QgbmFtZXMpJywgYXN5bmMgKF90ZXN0LCBzYW5kYm94KSA9PiB7XG4gICAgc2FuZGJveC5jcmVhdGUoeyBmcW46ICdqc2lpLWNhbGMuQXN5bmNWaXJ0dWFsTWV0aG9kcycsIG92ZXJyaWRlczogWyB7IG1ldGhvZDogJ25vdEZvdW5kJyB9IF0gfSk7XG59KTtcblxuZGVmaW5lVGVzdCgnYXN5bmMgb3ZlcnJpZGVzOiBvdmVycmlkZSBhIG1ldGhvZCcsIGFzeW5jICh0ZXN0LCBzYW5kYm94KSA9PiB7XG4gICAgLy8gZmlyc3QgY2FsbCB3aXRob3V0IGFuIG92ZXJyaWRlIGFuZCBleHBlY3QgcGVuZGluZ0NhbGxiYWNrcyB0byByZXR1cm5cbiAgICAvLyBhbiBlbXB0eSBhcnJheS5cbiAgICBjb25zdCBvYmoxID0gc2FuZGJveC5jcmVhdGUoeyBmcW46ICdqc2lpLWNhbGMuQXN5bmNWaXJ0dWFsTWV0aG9kcycgfSk7XG5cbiAgICBhc3luYyBmdW5jdGlvbiBjYWxsV2l0aE92ZXJyaWRlKG92ZXJyaWRlQ2FsbGJhY2s6ICh4OiBudW1iZXIpID0+IG51bWJlcikge1xuICAgICAgICBjb25zdCBwcm9taXNlMSA9IHNhbmRib3guYmVnaW4oeyBvYmpyZWY6IG9iajEsIG1ldGhvZDogJ2NhbGxNZScgfSk7XG4gICAgICAgIHRlc3QuZXF1YWwoc2FuZGJveC5jYWxsYmFja3MoKS5jYWxsYmFja3MubGVuZ3RoLCAwLCAnbm8gb3ZlcnJpZGVzIC0gbm8gY2FsbGJhY2tzJyk7XG4gICAgICAgIGNvbnN0IHJlc3VsdDEgPSAoYXdhaXQgc2FuZGJveC5lbmQocHJvbWlzZTEpKS5yZXN1bHQ7XG4gICAgICAgIHRlc3QuZXF1YWxzKHJlc3VsdDEsIDEyOCk7XG5cbiAgICAgICAgLy8gbm93IGFkZCBhbiBvdmVycmlkZSBhbmQgY29tcGxldGUgaXQgd2l0aCBhIHNvbWUgdmFsdWUuXG4gICAgICAgIGNvbnN0IG9iaiA9IHNhbmRib3guY3JlYXRlKHsgZnFuOiAnanNpaS1jYWxjLkFzeW5jVmlydHVhbE1ldGhvZHMnLCBvdmVycmlkZXM6IFsgeyBtZXRob2Q6ICdvdmVycmlkZU1lJywgY29va2llOiAnbXlDb29raWUnIH0gXSB9KTtcbiAgICAgICAgY29uc3QgcHJvbWlzZTIgPSBzYW5kYm94LmJlZ2luKHsgb2JqcmVmOiBvYmosIG1ldGhvZDogJ2NhbGxNZScgfSk7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrcyA9IHNhbmRib3guY2FsbGJhY2tzKCkuY2FsbGJhY2tzO1xuICAgICAgICB0ZXN0LmVxdWFsKGNhbGxiYWNrcy5sZW5ndGgsIDEsICdjYWxsYmFjayB0byB0aGUgb3ZlcnJpZGUnKTtcbiAgICAgICAgY29uc3QgY2IgPSBjYWxsYmFja3NbMF07XG4gICAgICAgIHRlc3Qub2soY2IuaW52b2tlKTtcbiAgICAgICAgdGVzdC5lcXVhbChjYi5pbnZva2UhLm9ianJlZiwgb2JqLCAnY2FsbGJhY2sgcmVmZXJzIHRvIG9iamVjdCcpO1xuICAgICAgICB0ZXN0LmVxdWFsKGNiLmludm9rZSEubWV0aG9kLCAnb3ZlcnJpZGVNZScsICdjYWxsYmFjayByZWZlcnMgdG8gdGhlIGNvcnJlY3QgbWV0aG9kJyk7XG4gICAgICAgIHRlc3QuZXF1YWwoY2IuY29va2llLCAnbXlDb29raWUnLCAnY29va2llIGlzIGFsc28gcGFzc2VkJyk7XG4gICAgICAgIHRlc3QuZGVlcEVxdWFsKGNiLmludm9rZSEuYXJncywgWyAxMCBdLCAnY2FsbGJhY2sgYXJncycpO1xuXG4gICAgICAgIC8vIGNhbGxpbmcgcGVuZGluZ0NhbGxiYWNrcyBhZ2FpbiB3aWxsIHJldHVybiB6ZXJvIHJlc3VsdHNcbiAgICAgICAgLy8gc2luY2UgYWxsIGNhbGxiYWNrcyBhcmUgbW92ZWQgdG8gXCJ3YWl0aW5nXCIgc3RhdGVcbiAgICAgICAgdGVzdC5lcXVhbChzYW5kYm94LmNhbGxiYWNrcygpLmNhbGxiYWNrcy5sZW5ndGgsIDApO1xuXG4gICAgICAgIC8vIGNhbGwgdGhlIG92ZXJyaWRlXG4gICAgICAgIGxldCBjYWxsYmFja1Jlc3VsdDtcbiAgICAgICAgbGV0IGNhbGxiYWNrRXJyb3I7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjYWxsYmFja1Jlc3VsdCA9IG92ZXJyaWRlQ2FsbGJhY2soY2IuaW52b2tlIS5hcmdzIVswXSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrRXJyb3IgPSBlLm1lc3NhZ2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb21wbGV0ZSB0aGUgY2FsbGJhY2sgd2l0aCBhIHN1Y2Nlc3NmdWwgcmV0dXJuIHZhbHVlIG9mIDYwMFxuICAgICAgICBzYW5kYm94LmNvbXBsZXRlKHsgY2JpZDogY2IuY2JpZCwgZXJyOiBjYWxsYmFja0Vycm9yLCByZXN1bHQ6IGNhbGxiYWNrUmVzdWx0IH0pO1xuXG4gICAgICAgIC8vIGF3YWl0IGZvciB0aGUgcHJvbWlzZSBhbmQgdmVyaWZ5IHRoYXQgdGhlIGNvbXBsZXRpb24gd2FzIHN1Y2Nlc3NmdWxseVxuICAgICAgICAvLyBjb252ZXllZCBmcm9tIHRoZSBjYWxsYmFjay5cbiAgICAgICAgcmV0dXJuIChhd2FpdCBzYW5kYm94LmVuZChwcm9taXNlMikpLnJlc3VsdDtcbiAgICB9XG5cbiAgICB0ZXN0LmVxdWFscyhhd2FpdCBjYWxsV2l0aE92ZXJyaWRlKF8gPT4gNjAwKSwgNjA4KTtcbiAgICB0ZXN0LmVxdWFscyhhd2FpdCBjYWxsV2l0aE92ZXJyaWRlKHggPT4gMiAqIHgpLCAyOCk7XG5cbiAgICAvLyBvdmVycmlkZSB0aHJvd3NcbiAgICBsZXQgdGhyb3dzO1xuICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGNhbGxXaXRoT3ZlcnJpZGUoXyA9PiB7IHRocm93IG5ldyBFcnJvcignQmxhJyk7IH0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhyb3dzID0gZTtcbiAgICB9XG4gICAgdGVzdC5vayh0aHJvd3MpO1xuICAgIHRlc3Qub2sodGhyb3dzLm1lc3NhZ2UpO1xuICAgIHRlc3Qub2sodGhyb3dzLm1lc3NhZ2UuaW5kZXhPZignQmxhJykgIT09IC0xKTtcbn0pO1xuXG5kZWZpbmVUZXN0KCdhc3luYyBvdmVycmlkZXM6IGRpcmVjdGx5IGNhbGwgYSBtZXRob2Qgd2l0aCBhbiBvdmVycmlkZSBmcm9tIG5hdGl2ZSBjb2RlIHNob3VsZCBpbnZva2UgdGhlIFwic3VwZXIubWV0aG9kXCIgc2luY2UgaXQgY2FuIG9ubHkgYmUgZG9uZSBieSB0aGUgZGVyaXZlZCBjbGFzcycsIGFzeW5jICh0ZXN0LCBzYW5kYm94KSA9PiB7XG4gICAgY29uc3Qgb2JqID0gc2FuZGJveC5jcmVhdGUoeyBmcW46ICdqc2lpLWNhbGMuQXN5bmNWaXJ0dWFsTWV0aG9kcycsIG92ZXJyaWRlczogWyB7IG1ldGhvZDogJ292ZXJyaWRlTWUnLCBjb29raWU6ICdteUNvb2tpZScgfSBdIH0pO1xuICAgIGNvbnN0IHByb21pc2UgPSBzYW5kYm94LmJlZ2luKHsgb2JqcmVmOiBvYmosIG1ldGhvZDogJ292ZXJyaWRlTWUnLCBhcmdzOiBbIDEyIF19KTtcblxuICAgIC8vIG5vIGNhbGxiYWNrcyBzaG91bGQgYmUgcGVuZGluZywgc2luY2UgdGhpcyBzaG91bGQgaW52b2tlIFwic3VwZXJcIlxuICAgIHRlc3QuZXF1YWxzKHNhbmRib3guY2FsbGJhY2tzKCkuY2FsbGJhY2tzLmxlbmd0aCwgMCk7XG4gICAgdGVzdC5lcXVhbHMoKGF3YWl0IHNhbmRib3guZW5kKHByb21pc2UpKS5yZXN1bHQsIDE0NCk7XG59KTtcblxuZGVmaW5lVGVzdCgnYXN5bmMgb3ZlcnJpZGVzOiB0d28gb3ZlcnJpZGVzJywgYXN5bmMgKHRlc3QsIHNhbmRib3gpID0+IHtcbiAgICBjb25zdCBvYmogPSBzYW5kYm94LmNyZWF0ZSh7IGZxbjogJ2pzaWktY2FsYy5Bc3luY1ZpcnR1YWxNZXRob2RzJywgb3ZlcnJpZGVzOiBbXG4gICAgICAgIHsgbWV0aG9kOiAnb3ZlcnJpZGVNZVRvbycsIGNvb2tpZTogJ2Nvb2tpZTEnIH0sXG4gICAgICAgIHsgbWV0aG9kOiAnb3ZlcnJpZGVNZScsIGNvb2tpZTogJ2Nvb2tpZTInIH1cbiAgICBdIH0pO1xuXG4gICAgY29uc3QgcHJvbWlzZSA9IHNhbmRib3guYmVnaW4oeyBvYmpyZWY6IG9iaiwgbWV0aG9kOiAnY2FsbE1lJyB9KTtcblxuICAgIGNvbnN0IGNhbGxiYWNrczEgPSBzYW5kYm94LmNhbGxiYWNrcygpO1xuICAgIHRlc3QuZXF1YWwoY2FsbGJhY2tzMS5jYWxsYmFja3MubGVuZ3RoLCAxKTtcblxuICAgIHNhbmRib3guY29tcGxldGUoeyBjYmlkOiBjYWxsYmFja3MxLmNhbGxiYWNrc1swXS5jYmlkLCByZXN1bHQ6IDY2NiB9KTtcbiAgICBhd2FpdCBwcm9jZXNzUGVuZGluZ1Byb21pc2VzKHNhbmRib3gpOyAvLyBwcm9jZXNzaW5nIG5leHQgcHJvbWlzZVxuXG4gICAgY29uc3QgY2FsbGJhY2tzMiA9IHNhbmRib3guY2FsbGJhY2tzKCk7XG4gICAgdGVzdC5lcXVhbChjYWxsYmFja3MyLmNhbGxiYWNrcy5sZW5ndGgsIDEpO1xuXG4gICAgc2FuZGJveC5jb21wbGV0ZSh7IGNiaWQ6IGNhbGxiYWNrczIuY2FsbGJhY2tzWzBdLmNiaWQsIHJlc3VsdDogMTAxIH0pO1xuICAgIGF3YWl0IHByb2Nlc3NQZW5kaW5nUHJvbWlzZXMoc2FuZGJveCk7XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzYW5kYm94LmVuZCh7IHByb21pc2VpZDogcHJvbWlzZS5wcm9taXNlaWQgfSk7XG4gICAgdGVzdC5lcXVhbChyZXN1bHQucmVzdWx0LCA3NzUpO1xufSk7XG5cbi8qKlxuICogVGhpcyB0ZXN0IHNpbXVsYXRlcyBhIHNpdGF0aW9uIHdoZXJlIGFuIGFzeW5jIG1ldGhvZCBpcyBjYWxsZWQsIHdoaWNoIGludm9rZXNcbiAqIGFuIGFzeW5jIG92ZXJyaWRlIGluIHJldHVybiwgYnV0IHRoZSBvdmVycmlkZSdzIHByb21pc2UgaXMgbm90IGNhbGxlZCBzeW5jaHJvbm91c2x5XG4gKiBidXQgcmF0aGVyIHdpdGhpbiB0aGUgXCJuZXh0IHRpY2tcIi4gVGhpcyBjYW4gaGFwcGVuIChhdCB0aGUgZGlzY3Jlc3Npb24gb2YgdGhlIHJ1bnRpbWVcbiAqIGFuZCB3ZSBzaG91bGQgdmVyaWZ5IHRoYXQgdGhlIGpzaWktcnVudGltZSAob3IgYW55IHJ1bnRpbWUgZm9yIHRoYXQgbWF0dGVyKSBcInByb2Nlc3Nlc1wiXG4gKiBwcm9taXNlcyBhZnRlciBhIFwiYmVnaW5cIiBpbnZvY2F0aW9uIGluIG9yZGVyIHRvIG1ha2Ugc3VyZSBhbnkgY2FsbGJhY2tzIGFyZSBxdWV1ZWQuXG4gKlxuICogVGhpcyBpcyBhbHNvIHJlbGV2YW50IGltbWVkaWF0ZSBhZnRlciBhIFwiY29tcGxldGVcIiBpbnZvY2F0aW9uLCB3aGljaCBmdWxmaWxscyBhbiBhc3luY1xuICogcHJvbWlzZSBhbmQgbWF5IHN1YnNlcXVlbnRseSBxdWV1ZSBtb3JlIGNhbGxiYWNrcyBiZWZvcmUgb25lIGNhbiBcImVuZFwiIHRoZSBvcmlnaW5hbFxuICogYXN5bmMgcmVxdWVzdC5cbiAqXG4gKiBZZXMsIHRoaXMgaXMgaGFpcnkuXG4gKlxuICogaG9zdC50cyM5MyBpcyB3aGVyZSB0aGlzIGlzIGltcGxlbWVudGVkIGluIHRoZSBydW50aW1lLlxuICovXG5kZWZpbmVUZXN0KCdhc3luYyBvdmVycmlkZXMgLSBwcm9jZXNzIHByb21pc2VzIGFmdGVyIFwiYmVnaW5cIicsIGFzeW5jICh0ZXN0LCBzYW5kYm94KSA9PiB7XG5cbiAgICBjb25zdCBvYmogPSBzYW5kYm94LmNyZWF0ZSh7IGZxbjogJ2pzaWktY2FsYy5Bc3luY1ZpcnR1YWxNZXRob2RzJywgb3ZlcnJpZGVzOiBbXG4gICAgICAgIHsgbWV0aG9kOiAnb3ZlcnJpZGVNZScsIGNvb2tpZTogJ2Nvb2tpZTInIH0sXG4gICAgICAgIHsgbWV0aG9kOiAnb3ZlcnJpZGVNZVRvbycgfVxuICAgIF0gfSk7XG5cbiAgICBjb25zdCBwMSA9IHNhbmRib3guYmVnaW4oeyBvYmpyZWY6IG9iaiwgbWV0aG9kOiAnY2FsbE1lRG91YmxlUHJvbWlzZScgfSk7XG5cbiAgICAvLyB0aGlzIGlzIG5lZWRlZCBpbiBvcmRlciB0byBjeWNsZSB0aHJvdWdoIGFub3RoZXIgZXZlbnQgbG9vcCBzb1xuICAgIC8vIHRoYXQgcHJvbWlzZXMgdGhhdCBhcmUgbGF6aWx5IGNhbGxlZCB3aWxsIGJlIHByb2Nlc3NlZCAobm90aGluZyBlbnN1cmVzXG4gICAgLy8gdGhhdCB0aGUgcHJvbWlzZSBjYWxsYmFjayB3aWxsIGJlIGludm9rZXMgc3luY2hyb25vdXNseSkuXG4gICAgYXdhaXQgcHJvY2Vzc1BlbmRpbmdQcm9taXNlcyhzYW5kYm94KTtcblxuICAgIGNvbnN0IGNhbGxiYWNrczEgPSBzYW5kYm94LmNhbGxiYWNrcygpO1xuXG4gICAgdGVzdC5lcXVhbChjYWxsYmFja3MxLmNhbGxiYWNrcy5sZW5ndGgsIDEpO1xuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tIHN0YXJ0IG9mIFwib3ZlcnJpZGVcIiBleGVjdXRpb25cblxuICAgIC8vIHdlIHNpbXVsYXRlIHRoZSBzaXR1YXRpb24gd2hlcmUgdGhlIG92ZXJyaWRlIGludm9rZXMgYW5vdGhlciBhc3luYyBvdmVycmlkZVxuXG4gICAgLy8gY2FsbCBhIHN5bmMgbWV0aG9kIChqdXN0IGZvciBmdW4pXG4gICAgY29uc3Qgb3V0ID0gc2FuZGJveC5pbnZva2UoeyBvYmpyZWY6IG9iaiwgbWV0aG9kOiAnZG9udE92ZXJyaWRlTWUnIH0pO1xuICAgIHRlc3QuZGVlcEVxdWFsKG91dCwgeyByZXN1bHQ6IDggfSk7XG5cbiAgICAvLyBjYWxsIGFub3RoZXIgb3ZlcnJpZGRlbiBhc3luYyBtZXRob2RcbiAgICBjb25zdCBwMiA9IHNhbmRib3guYmVnaW4oeyBvYmpyZWY6IG9iaiwgbWV0aG9kOiAnY2FsbE1lMicgfSk7XG5cbiAgICAvLyB3ZSBzaG91bGQgZ2V0IGEgYSBjYWxsYmFjayB0byBvdmVycmlkZU1lMlxuICAgIGNvbnN0IGNhbGxiYWNrMiA9IHNhbmRib3guY2FsbGJhY2tzKCk7XG4gICAgdGVzdC5lcXVhbChjYWxsYmFjazIuY2FsbGJhY2tzLmxlbmd0aCwgMSk7XG4gICAgdGVzdC5lcXVhbChjYWxsYmFjazIuY2FsbGJhY2tzWzBdLmludm9rZSEubWV0aG9kLCAnb3ZlcnJpZGVNZVRvbycpO1xuXG4gICAgLy8gY29tcGxldGUgdGhlIGlubmVyIGNhbGxiYWNrXG4gICAgc2FuZGJveC5jb21wbGV0ZSh7IGNiaWQ6IGNhbGxiYWNrMi5jYWxsYmFja3NbMF0uY2JpZCwgcmVzdWx0OiA5OTk5IH0pO1xuXG4gICAgLy8gZmV0Y2ggaXRcbiAgICB0ZXN0LmRlZXBFcXVhbChhd2FpdCBzYW5kYm94LmVuZCh7IHByb21pc2VpZDogcDIucHJvbWlzZWlkIH0pLCB7IHJlc3VsdDogOTk5OSB9KTtcblxuICAgIC8vIG5vIG1vcmUgY2FsbGJhY2tzXG4gICAgdGVzdC5kZWVwRXF1YWwoc2FuZGJveC5jYWxsYmFja3MoKSwgeyBjYWxsYmFja3M6IFtdIH0pO1xuXG4gICAgLy8gbm93IGNvbXBsZXRlIHRoZSBvdXRlciBjYWxsYmFja1xuICAgIGF3YWl0IHNhbmRib3guY29tcGxldGUoeyBjYmlkOiBjYWxsYmFja3MxLmNhbGxiYWNrc1swXS5jYmlkLCByZXN1bHQ6IDg4ODggfSk7XG5cbiAgICAvLyByZXF1aXJlZDogcHJvY2VzcyBwZW5kaW5nIHByb21pc2VzIHNvIHRoYXQgd2Ugd2lsbCBnZXQgdGhlIG5leHQgb25lIGluIHRoZSBjYWxsYmFja3MgbGlzdFxuICAgIGF3YWl0IHByb2Nlc3NQZW5kaW5nUHJvbWlzZXMoc2FuZGJveCk7XG5cbiAgICAvLyAtLS0tLS0gZW5kIG9mIGV4ZWN1dGlvbiBvZiBcIm92ZXJyaWRlTWVcIlxuXG4gICAgLy8gbm93IHdlIGV4cGVjdCAnb3ZlcnJpZGVNZVRvbycgdG8gYmUgY2FsbGVkIGJhY2tcbiAgICBjb25zdCBjYjMgPSBzYW5kYm94LmNhbGxiYWNrcygpO1xuICAgIHRlc3QuZXF1YWwoY2IzLmNhbGxiYWNrcy5sZW5ndGgsIDEpO1xuICAgIHRlc3QuZXF1YWwoY2IzLmNhbGxiYWNrc1swXS5pbnZva2UhLm1ldGhvZCwgJ292ZXJyaWRlTWVUb28nKTtcblxuICAgIC8vIGNvbXBsZXRlIGl0XG4gICAgc2FuZGJveC5jb21wbGV0ZSh7IGNiaWQ6IGNiMy5jYWxsYmFja3NbMF0uY2JpZCwgcmVzdWx0OiAtMjAgfSk7XG5cbiAgICAvLyBubyBtb3JlIGNhbGxiYWNrc1xuICAgIGNvbnN0IGNiNCA9IHNhbmRib3guY2FsbGJhY2tzKCk7XG4gICAgdGVzdC5lcXVhbChjYjQuY2FsbGJhY2tzLmxlbmd0aCwgMCk7XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzYW5kYm94LmVuZCh7IHByb21pc2VpZDogcDEucHJvbWlzZWlkIH0pO1xuICAgIHRlc3QuZXF1YWwocmVzdWx0LnJlc3VsdCwgODg3Nik7XG59KTtcblxuZnVuY3Rpb24gcHJvY2Vzc1BlbmRpbmdQcm9taXNlcyhzYW5kYm94OiBLZXJuZWwpIHtcbiAgICByZXR1cm4gdm0ucnVuSW5Db250ZXh0KCduZXcgUHJvbWlzZShkb25lID0+IHNldEltbWVkaWF0ZShkb25lKSk7JywgKHNhbmRib3ggYXMgYW55KS5zYW5kYm94KTtcbn1cblxuZGVmaW5lVGVzdCgnc3luYyBvdmVycmlkZXMnLCBhc3luYyAodGVzdCwgc2FuZGJveCkgPT4ge1xuICAgIGNvbnN0IHByZSA9IHNhbmRib3guY3JlYXRlKHsgZnFuOiAnanNpaS1jYWxjLlN5bmNWaXJ0dWFsTWV0aG9kcycgfSk7XG5cbiAgICAvLyB3aXRob3V0IG92ZXJyaWRlXG4gICAgdGVzdC5lcXVhbChzYW5kYm94Lmludm9rZSh7IG9ianJlZjogcHJlLCBtZXRob2Q6ICdjYWxsZXJJc01ldGhvZCcgfSkucmVzdWx0LCAyMCk7XG4gICAgdGVzdC5lcXVhbChzYW5kYm94LmdldCh7IG9ianJlZjogcHJlLCBwcm9wZXJ0eTogJ2NhbGxlcklzUHJvcGVydHknIH0pLnZhbHVlLCAyMCk7XG4gICAgY29uc3QgcCA9IHNhbmRib3guYmVnaW4oeyBvYmpyZWY6IHByZSwgbWV0aG9kOiAnY2FsbGVySXNBc3luYycgfSk7XG4gICAgdGVzdC5lcXVhbCgoYXdhaXQgc2FuZGJveC5lbmQoeyBwcm9taXNlaWQ6IHAucHJvbWlzZWlkIH0pKS5yZXN1bHQsIDIwKTtcblxuICAgIHNhbmRib3guY2FsbGJhY2tIYW5kbGVyID0gbWFrZVN5bmNDYWxsYmFja0hhbmRsZXIoY2FsbGJhY2sgPT4ge1xuICAgICAgICB0ZXN0LmVxdWFsKGNhbGxiYWNrLmNvb2tpZSwgJ215Q29va2llJyk7XG4gICAgICAgIHRlc3Qub2soY2FsbGJhY2suaW52b2tlIS5vYmpyZWZbVE9LRU5fUkVGXS5pbmNsdWRlcygnanNpaS1jYWxjLlN5bmNWaXJ0dWFsTWV0aG9kcycpKTtcbiAgICAgICAgdGVzdC5lcXVhbChjYWxsYmFjay5pbnZva2UhLm1ldGhvZCwgJ3ZpcnR1YWxNZXRob2QnKTtcbiAgICAgICAgdGVzdC5lcXVhbChjYWxsYmFjay5pbnZva2UhLmFyZ3MhWzBdLCAxMCk7XG5cbiAgICAgICAgLy8gdG8gbWFrZSB0aGluZ3MgYSBiaXQgbW9yZSBpbnRlcmVzdGluZywgbGV0J3MgaW50ZXJhY3Qgd2l0aCBhIGpzaWkgb2JqZWN0XG4gICAgICAgIC8vIGZyb20gd2l0aGluIHRoZSBjYWxsYmFja1xuICAgICAgICBjb25zdCBsaHMgPSBzYW5kYm94LmNyZWF0ZSh7IGZxbjogJ0BzY29wZS9qc2lpLWNhbGMtbGliLk51bWJlcicsIGFyZ3M6IFsgY2FsbGJhY2suaW52b2tlIS5hcmdzIVswXSBdIH0pO1xuICAgICAgICBjb25zdCByaHMgPSBzYW5kYm94LmNyZWF0ZSh7IGZxbjogJ0BzY29wZS9qc2lpLWNhbGMtbGliLk51bWJlcicsIGFyZ3M6IFsgMTIgXSB9KTtcbiAgICAgICAgY29uc3QgYWRkID0gc2FuZGJveC5jcmVhdGUoeyBmcW46ICdqc2lpLWNhbGMuQWRkJywgYXJnczogWyBsaHMsIHJocyBdfSk7XG4gICAgICAgIHJldHVybiBzYW5kYm94LmdldCh7IG9ianJlZjogYWRkLCBwcm9wZXJ0eTogJ3ZhbHVlJyB9KS52YWx1ZTtcbiAgICB9KTtcblxuICAgIC8vIG5vdyBtYWtlIHRoZSBzYW1lIHNldCBvZiBjYWxscywgYW5kIHlvdSB3aWxsIG5vdGljZSB0aGF0IHRoZSByZXN1bHRzIGFyZSBhZmZlY3RlZCBieSB0aGUgb3ZlcnJpZGUuXG4gICAgY29uc3Qgb2JqID0gc2FuZGJveC5jcmVhdGUoeyBmcW46ICdqc2lpLWNhbGMuU3luY1ZpcnR1YWxNZXRob2RzJywgb3ZlcnJpZGVzOiBbIHsgbWV0aG9kOiAndmlydHVhbE1ldGhvZCcsIGNvb2tpZTogJ215Q29va2llJyB9IF0gfSk7XG4gICAgdGVzdC5lcXVhbChzYW5kYm94Lmludm9rZSh7IG9ianJlZjogb2JqLCBtZXRob2Q6ICdjYWxsZXJJc01ldGhvZCcgfSkucmVzdWx0LCAyMik7XG4gICAgdGVzdC5lcXVhbChzYW5kYm94LmdldCh7IG9ianJlZjogb2JqLCBwcm9wZXJ0eTogJ2NhbGxlcklzUHJvcGVydHknIH0pLnZhbHVlLCAyMik7XG5cbiAgICAvLyB2ZXJpZnkgY2FsbGJhY2tzIGNhbiBhbHNvIGJlIGNhbGxlZCBieSBzZXR0ZXJzLlxuICAgIGxldCBjYWxsZWQgPSBmYWxzZTtcbiAgICBzYW5kYm94LmNhbGxiYWNrSGFuZGxlciA9IG1ha2VTeW5jQ2FsbGJhY2tIYW5kbGVyKGNhbGxiYWNrID0+IHtcbiAgICAgICAgdGVzdC5lcXVhbChjYWxsYmFjay5pbnZva2UhLmFyZ3MhWzBdLCA5OTkpO1xuICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgc2FuZGJveC5zZXQoeyBvYmpyZWY6IG9iaiwgcHJvcGVydHk6ICdjYWxsZXJJc1Byb3BlcnR5JywgdmFsdWU6IDk5OSB9KTtcbiAgICB0ZXN0Lm9rKGNhbGxlZCk7XG59KTtcblxuZGVmaW5lVGVzdCgnc3luYyBvdmVycmlkZXMgd2l0aCBhc3luYyBjYWxsZXInLCBhc3luYyAodGVzdCwgc2FuZGJveCkgPT4ge1xuICAgIHNhbmRib3guY2FsbGJhY2tIYW5kbGVyID0gbWFrZVN5bmNDYWxsYmFja0hhbmRsZXIoY2FsbGJhY2sgPT4ge1xuICAgICAgICB0ZXN0LmVxdWFsKGNhbGxiYWNrLmNvb2tpZSwgJ215Q29va2llJyk7XG4gICAgICAgIHRlc3Qub2soY2FsbGJhY2suaW52b2tlIS5vYmpyZWZbVE9LRU5fUkVGXS5pbmNsdWRlcygnanNpaS1jYWxjLlN5bmNWaXJ0dWFsTWV0aG9kcycpKTtcbiAgICAgICAgdGVzdC5lcXVhbChjYWxsYmFjay5pbnZva2UhLm1ldGhvZCwgJ3ZpcnR1YWxNZXRob2QnKTtcbiAgICAgICAgdGVzdC5lcXVhbChjYWxsYmFjay5pbnZva2UhLmFyZ3MhWzBdLCAxMCk7XG5cbiAgICAgICAgLy8gdG8gbWFrZSB0aGluZ3MgYSBiaXQgbW9yZSBpbnRlcmVzdGluZywgbGV0J3MgaW50ZXJhY3Qgd2l0aCBhIGpzaWkgb2JqZWN0XG4gICAgICAgIC8vIGZyb20gd2l0aGluIHRoZSBjYWxsYmFja1xuICAgICAgICBjb25zdCBsaHMgPSBzYW5kYm94LmNyZWF0ZSh7IGZxbjogJ0BzY29wZS9qc2lpLWNhbGMtbGliLk51bWJlcicsIGFyZ3M6IFsgY2FsbGJhY2suaW52b2tlIS5hcmdzIVswXSBdIH0pO1xuICAgICAgICBjb25zdCByaHMgPSBzYW5kYm94LmNyZWF0ZSh7IGZxbjogJ0BzY29wZS9qc2lpLWNhbGMtbGliLk51bWJlcicsIGFyZ3M6IFsgMTIgXSB9KTtcbiAgICAgICAgY29uc3QgYWRkID0gc2FuZGJveC5jcmVhdGUoeyBmcW46ICdqc2lpLWNhbGMuQWRkJywgYXJnczogWyBsaHMsIHJocyBdfSk7XG4gICAgICAgIHJldHVybiBzYW5kYm94LmdldCh7IG9ianJlZjogYWRkLCBwcm9wZXJ0eTogJ3ZhbHVlJyB9KS52YWx1ZTtcbiAgICB9KTtcblxuICAgIGNvbnN0IG9iaiA9IHNhbmRib3guY3JlYXRlKHsgZnFuOiAnanNpaS1jYWxjLlN5bmNWaXJ0dWFsTWV0aG9kcycsIG92ZXJyaWRlczogWyB7IG1ldGhvZDogJ3ZpcnR1YWxNZXRob2QnLCBjb29raWU6ICdteUNvb2tpZScgfSBdIH0pO1xuICAgIGNvbnN0IHAyID0gc2FuZGJveC5iZWdpbih7IG9ianJlZjogb2JqLCBtZXRob2Q6ICdjYWxsZXJJc0FzeW5jJyB9KTtcbiAgICB0ZXN0LmVxdWFsKChhd2FpdCBzYW5kYm94LmVuZCh7IHByb21pc2VpZDogcDIucHJvbWlzZWlkIH0pKS5yZXN1bHQsIDIyKTtcbn0pO1xuXG5kZWZpbmVUZXN0KCdzeW5jIG92ZXJyaWRlczogcHJvcGVydGllcyAtIHJlYWR3cml0ZScsIGFzeW5jICh0ZXN0LCBzYW5kYm94KSA9PiB7XG4gICAgY29uc3Qgb2JqID0gc2FuZGJveC5jcmVhdGUoeyBmcW46ICdqc2lpLWNhbGMuU3luY1ZpcnR1YWxNZXRob2RzJywgb3ZlcnJpZGVzOiBbIHsgcHJvcGVydHk6ICd0aGVQcm9wZXJ0eScsIGNvb2tpZTogJ215Q29va2llMTIzNCcgfSBdIH0pO1xuXG4gICAgbGV0IHNldFZhbHVlO1xuICAgIHNhbmRib3guY2FsbGJhY2tIYW5kbGVyID0gbWFrZVN5bmNDYWxsYmFja0hhbmRsZXIoY2FsbGJhY2sgPT4ge1xuICAgICAgICB0ZXN0LmVxdWFsKGNhbGxiYWNrLmNvb2tpZSwgJ215Q29va2llMTIzNCcpO1xuICAgICAgICBpZiAoY2FsbGJhY2suZ2V0KSB7XG4gICAgICAgICAgICB0ZXN0LmVxdWFsKGNhbGxiYWNrLmdldCEucHJvcGVydHksICd0aGVQcm9wZXJ0eScpO1xuICAgICAgICAgICAgcmV0dXJuICdvdmVycmlkZSBhcHBsaWVkJztcbiAgICAgICAgfSBlbHNlIGlmIChjYWxsYmFjay5zZXQpIHtcbiAgICAgICAgICAgIHRlc3QuZXF1YWwoY2FsbGJhY2suc2V0IS5wcm9wZXJ0eSwgJ3RoZVByb3BlcnR5Jyk7XG4gICAgICAgICAgICBzZXRWYWx1ZSA9IGNhbGxiYWNrLnNldC52YWx1ZTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgY2FsbGJhY2suIEV4cGVjdGVkIGdldC9zZXQnKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgdmFsdWUgPSBzYW5kYm94Lmludm9rZSh7IG9ianJlZjogb2JqLCBtZXRob2Q6ICdyZXRyaWV2ZVZhbHVlT2ZUaGVQcm9wZXJ0eScgfSk7XG4gICAgdGVzdC5kZWVwRXF1YWwodmFsdWUsIHsgcmVzdWx0OiAnb3ZlcnJpZGUgYXBwbGllZCcgfSk7XG5cbiAgICAvLyBtYWtlIHN1cmUgd2UgY2FuIHN0aWxsIHNldCB0aGUgcHJvcGVydHlcbiAgICBzYW5kYm94Lmludm9rZSh7IG9ianJlZjogb2JqLCBtZXRob2Q6ICdtb2RpZnlWYWx1ZU9mVGhlUHJvcGVydHknLCBhcmdzOiBbIDEyMzQgXSB9KTtcbiAgICB0ZXN0LmRlZXBFcXVhbChzZXRWYWx1ZSwgMTIzNCk7XG59KTtcblxuZGVmaW5lVGVzdCgnc3luYyBvdmVycmlkZXM6IHByb3BlcnRpZXMgLSByZWFkd3JpdGUgKGJhY2tlZCBieSBmdW5jdGlvbnMpJywgYXN5bmMgKHRlc3QsIHNhbmRib3gpID0+IHtcbiAgICBjb25zdCBvYmogPSBzYW5kYm94LmNyZWF0ZSh7XG4gICAgICAgIGZxbjogJ2pzaWktY2FsYy5TeW5jVmlydHVhbE1ldGhvZHMnLFxuICAgICAgICBvdmVycmlkZXM6IFsgeyBwcm9wZXJ0eTogJ290aGVyUHJvcGVydHknLCBjb29raWU6ICdteUNvb2tpZTEyMzQnIH0gXVxuICAgIH0pO1xuXG4gICAgbGV0IHNldFZhbHVlO1xuICAgIHNhbmRib3guY2FsbGJhY2tIYW5kbGVyID0gbWFrZVN5bmNDYWxsYmFja0hhbmRsZXIoY2FsbGJhY2sgPT4ge1xuICAgICAgICB0ZXN0LmVxdWFsKGNhbGxiYWNrLmNvb2tpZSwgJ215Q29va2llMTIzNCcpO1xuICAgICAgICBpZiAoY2FsbGJhY2suZ2V0KSB7XG4gICAgICAgICAgICB0ZXN0LmVxdWFsKGNhbGxiYWNrLmdldCEucHJvcGVydHksICdvdGhlclByb3BlcnR5Jyk7XG4gICAgICAgICAgICByZXR1cm4gJ292ZXJyaWRlIGFwcGxpZWQgZm9yIG90aGVyUHJvcGVydHknO1xuICAgICAgICB9IGVsc2UgaWYgKGNhbGxiYWNrLnNldCkge1xuICAgICAgICAgICAgdGVzdC5lcXVhbChjYWxsYmFjay5zZXQhLnByb3BlcnR5LCAnb3RoZXJQcm9wZXJ0eScpO1xuICAgICAgICAgICAgc2V0VmFsdWUgPSBjYWxsYmFjay5zZXQudmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNhbGxiYWNrLiBFeHBlY3RlZCBnZXQvc2V0Jyk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IHZhbHVlID0gc2FuZGJveC5pbnZva2UoeyBvYmpyZWY6IG9iaiwgbWV0aG9kOiAncmV0cmlldmVPdGhlclByb3BlcnR5JyB9KTtcbiAgICB0ZXN0LmRlZXBFcXVhbCh2YWx1ZSwgeyByZXN1bHQ6ICdvdmVycmlkZSBhcHBsaWVkIGZvciBvdGhlclByb3BlcnR5JyB9KTtcblxuICAgIC8vIG1ha2Ugc3VyZSB3ZSBjYW4gc3RpbGwgc2V0IHRoZSBwcm9wZXJ0eVxuICAgIHNhbmRib3guaW52b2tlKHsgb2JqcmVmOiBvYmosIG1ldGhvZDogJ21vZGlmeU90aGVyUHJvcGVydHknLCBhcmdzOiBbIDc3ODg3NyBdfSk7XG4gICAgdGVzdC5kZWVwRXF1YWwoc2V0VmFsdWUsIDc3ODg3Nyk7XG59KTtcblxuZGVmaW5lVGVzdCgnc3luYyBvdmVycmlkZXM6IGR1cGxpY2F0ZSBvdmVycmlkZXMgZm9yIHRoZSBzYW1lIHByb3BlcnR5JywgYXN5bmMgKHRlc3QsIHNhbmRib3gpID0+IHtcbiAgICB0ZXN0LnRocm93cygoKSA9PiBzYW5kYm94LmNyZWF0ZSh7XG4gICAgICAgIGZxbjogJ2pzaWktY2FsYy5TeW5jVmlydHVhbE1ldGhvZHMnLFxuICAgICAgICBvdmVycmlkZXM6IFtcbiAgICAgICAgICAgIHsgcHJvcGVydHk6ICdvdGhlclByb3BlcnR5JywgY29va2llOiAnbXlDb29raWUxMjM0JyB9LFxuICAgICAgICAgICAgeyBwcm9wZXJ0eTogJ290aGVyUHJvcGVydHknLCBjb29raWU6ICd5b3VyQ29va2llJyB9XG4gICAgICAgIF1cbiAgICB9KSk7XG59KTtcblxuZGVmaW5lVGVzdCgnc3luYyBvdmVycmlkZXM6IHByb3BlcnRpZXMgLSByZWFkb25seScsIGFzeW5jICh0ZXN0LCBzYW5kYm94KSA9PiB7XG4gICAgY29uc3Qgb2JqID0gc2FuZGJveC5jcmVhdGUoeyBmcW46ICdqc2lpLWNhbGMuU3luY1ZpcnR1YWxNZXRob2RzJywgb3ZlcnJpZGVzOiBbIHsgcHJvcGVydHk6ICdyZWFkb25seVByb3BlcnR5JywgY29va2llOiAnbXlDb29raWUxMjM0JyB9IF0gfSk7XG5cbiAgICBzYW5kYm94LmNhbGxiYWNrSGFuZGxlciA9IG1ha2VTeW5jQ2FsbGJhY2tIYW5kbGVyKGNhbGxiYWNrID0+IHtcbiAgICAgICAgdGVzdC5lcXVhbChjYWxsYmFjay5jb29raWUsICdteUNvb2tpZTEyMzQnKTtcbiAgICAgICAgdGVzdC5vayhjYWxsYmFjay5nZXQpO1xuICAgICAgICB0ZXN0LmVxdWFsKGNhbGxiYWNrLmdldCEucHJvcGVydHksICdyZWFkb25seVByb3BlcnR5Jyk7XG4gICAgICAgIHJldHVybiAnb3ZlcnJpZGUgZm9yIHJlYWRvbmx5IHByb3BlcnR5IGFwcGxpZWQnO1xuICAgIH0pO1xuXG4gICAgY29uc3QgdmFsdWUgPSBzYW5kYm94Lmludm9rZSh7IG9ianJlZjogb2JqLCBtZXRob2Q6ICdyZXRyaWV2ZVJlYWRPbmx5UHJvcGVydHknIH0pO1xuICAgIHRlc3QuZGVlcEVxdWFsKHZhbHVlLCB7IHJlc3VsdDogJ292ZXJyaWRlIGZvciByZWFkb25seSBwcm9wZXJ0eSBhcHBsaWVkJyB9KTtcblxuICAgIC8vIGNhbid0IHNldCB0aGUgdmFsdWUgb2YgYSByZWFkb25seSBwcm9wZXJ0eSwgZGFoIVxuICAgIHRlc3QudGhyb3dzKCgpID0+IHNhbmRib3guc2V0KHsgb2JqcmVmOiBvYmosIHByb3BlcnR5OiAncmVhZG9ubHlQcm9wZXJ0eScsIHZhbHVlOiAxMjM0IH0pKTtcbn0pO1xuXG5kZWZpbmVUZXN0KCdzeW5jIG92ZXJyaWRlczogcHJvcGVydGllcyAtIGdldCBjYWxscyBzdXBlcicsIGFzeW5jICh0ZXN0LCBzYW5kYm94KSA9PiB7XG4gICAgY29uc3Qgb2JqID0gc2FuZGJveC5jcmVhdGUoeyBmcW46ICdqc2lpLWNhbGMuU3luY1ZpcnR1YWxNZXRob2RzJywgb3ZlcnJpZGVzOiBbIHsgcHJvcGVydHk6ICd0aGVQcm9wZXJ0eScgfSBdIH0pO1xuXG4gICAgc2FuZGJveC5jYWxsYmFja0hhbmRsZXIgPSBtYWtlU3luY0NhbGxiYWNrSGFuZGxlcihjYWxsYmFjayA9PiB7XG4gICAgICAgIHRlc3QuZXF1YWwoY2FsbGJhY2suZ2V0IS5wcm9wZXJ0eSwgJ3RoZVByb3BlcnR5Jyk7XG4gICAgICAgIGNvbnN0IHN1cGVyVmFsdWUgPSBzYW5kYm94LmdldCh7IG9ianJlZjogb2JqLCBwcm9wZXJ0eTogJ3RoZVByb3BlcnR5JyB9KTtcbiAgICAgICAgcmV0dXJuICdvdmVycmlkZSwgc3VwZXI9JyArIHN1cGVyVmFsdWUudmFsdWU7XG4gICAgfSk7XG5cbiAgICBjb25zdCB2YWx1ZSA9IHNhbmRib3guaW52b2tlKHsgb2JqcmVmOiBvYmosIG1ldGhvZDogJ3JldHJpZXZlVmFsdWVPZlRoZVByb3BlcnR5JyB9KTtcbiAgICB0ZXN0LmRlZXBFcXVhbCh2YWx1ZSwgeyByZXN1bHQ6ICdvdmVycmlkZSwgc3VwZXI9aW5pdGlhbCB2YWx1ZScgfSk7XG59KTtcblxuZGVmaW5lVGVzdCgnc3luYyBvdmVycmlkZXM6IHByb3BlcnRpZXMgLSBzZXQgY2FsbHMgc3VwZXInLCBhc3luYyAodGVzdCwgc2FuZGJveCkgPT4ge1xuICAgIGNvbnN0IG9iaiA9IHNhbmRib3guY3JlYXRlKHsgZnFuOiAnanNpaS1jYWxjLlN5bmNWaXJ0dWFsTWV0aG9kcycsIG92ZXJyaWRlczogWyB7IHByb3BlcnR5OiAndGhlUHJvcGVydHknIH0gXSB9KTtcblxuICAgIHNhbmRib3guY2FsbGJhY2tIYW5kbGVyID0gbWFrZVN5bmNDYWxsYmFja0hhbmRsZXIoY2FsbGJhY2sgPT4ge1xuICAgICAgICBpZiAoY2FsbGJhY2suZ2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gc2FuZGJveC5nZXQoeyBvYmpyZWY6IG9iaiwgcHJvcGVydHk6ICd0aGVQcm9wZXJ0eScgfSkudmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2FsbGJhY2suc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gc2FuZGJveC5zZXQoeyBvYmpyZWY6IG9iaiwgcHJvcGVydHk6ICd0aGVQcm9wZXJ0eScsIHZhbHVlOiAnc2V0IGJ5IG92ZXJyaWRlOiAnICsgY2FsbGJhY2suc2V0LnZhbHVlIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBzYW5kYm94Lmludm9rZSh7IG9ianJlZjogb2JqLCBtZXRob2Q6ICdtb2RpZnlWYWx1ZU9mVGhlUHJvcGVydHknLCBhcmdzOiBbICduZXdfdmFsdWUnIF0gfSk7XG4gICAgY29uc3QgdmFsdWUgPSBzYW5kYm94Lmludm9rZSh7IG9ianJlZjogb2JqLCBtZXRob2Q6ICdyZXRyaWV2ZVZhbHVlT2ZUaGVQcm9wZXJ0eScgfSk7XG4gICAgdGVzdC5kZWVwRXF1YWwodmFsdWUsIHsgcmVzdWx0OiAnc2V0IGJ5IG92ZXJyaWRlOiBuZXdfdmFsdWUnIH0pO1xufSk7XG5cbmRlZmluZVRlc3QoJ3N5bmMgb3ZlcnJpZGVzOiBwcm9wZXJ0aWVzIC0gdmVyaWZ5IGtleXMgYXJlIGVudW1lcmFibGUnLCBhc3luYyAodGVzdCwgc2FuZGJveCkgPT4ge1xuICAgIGNvbnN0IG9iaiA9IHNhbmRib3guY3JlYXRlKHsgZnFuOiAnT2JqZWN0Jywgb3ZlcnJpZGVzOiBbIHsgcHJvcGVydHk6ICdmb28nIH0sIHsgcHJvcGVydHk6ICdyZWFkT25seVN0cmluZycgfSBdIH0pO1xuICAgIGNvbnN0IHJlYWRlciA9IHNhbmRib3guY3JlYXRlKHsgZnFuOiAnanNpaS1jYWxjLlVzZXNJbnRlcmZhY2VXaXRoUHJvcGVydGllcycsIGFyZ3M6IFsgb2JqIF0gfSk7XG5cbiAgICBzYW5kYm94LmNhbGxiYWNrSGFuZGxlciA9IG1ha2VTeW5jQ2FsbGJhY2tIYW5kbGVyKGNhbGxiYWNrID0+IHtcbiAgICAgICAgaWYgKGNhbGxiYWNrLmdldCAmJiBjYWxsYmFjay5nZXQucHJvcGVydHkgPT09ICdmb28nKSB7XG4gICAgICAgICAgICByZXR1cm4gOTk5O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNhbGxiYWNrLmdldCAmJiBjYWxsYmFjay5nZXQucHJvcGVydHkgPT09ICdyZWFkT25seVN0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiAnU1RSJztcbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCBjYWxsYmFjaycpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gc2FuZGJveC5pbnZva2UoeyBvYmpyZWY6IHJlYWRlciwgbWV0aG9kOiAncmVhZFN0cmluZ0FuZE51bWJlcicsIGFyZ3M6IFsgb2JqIF19KTtcbiAgICB0ZXN0LmRlZXBFcXVhbChyZXN1bHQsIHsgcmVzdWx0OiAnYmFzZT1TVFIgY2hpbGQ9OTk5IGtleXM9W2ZvbyxyZWFkT25seVN0cmluZ10nIH0pO1xufSk7XG5cbmRlZmluZVRlc3QoJ3N5bmMgb3ZlcnJpZGVzOiByZXR1cm5zIGFuIG9iamVjdCcsIGFzeW5jICh0ZXN0LCBzYW5kYm94KSA9PiB7XG5cbiAgICBjb25zdCByZXR1cm5zTnVtYmVyID0gc2FuZGJveC5jcmVhdGUoeyBmcW46ICdPYmplY3QnLCBvdmVycmlkZXM6IFsgeyBtZXRob2Q6ICdvYnRhaW5OdW1iZXInIH0sIHsgcHJvcGVydHk6ICdudW1iZXJQcm9wJyB9IF0gfSk7XG5cbiAgICBjb25zdCBvYmogPSBzYW5kYm94LmNyZWF0ZSh7IGZxbjogJ2pzaWktY2FsYy5PdmVycmlkZVJldHVybnNPYmplY3QnIH0pO1xuICAgIGNvbnN0IG51bWJlcjEwMCA9IHNhbmRib3guY3JlYXRlKHsgZnFuOiAnQHNjb3BlL2pzaWktY2FsYy1saWIuTnVtYmVyJywgYXJnczogWyAxMDAgXSB9KTtcbiAgICBjb25zdCBudW1iZXI1MDAgPSBzYW5kYm94LmNyZWF0ZSh7IGZxbjogJ0BzY29wZS9qc2lpLWNhbGMtbGliLk51bWJlcicsIGFyZ3M6IFsgNTAwIF0gfSk7XG5cbiAgICBzYW5kYm94LmNhbGxiYWNrSGFuZGxlciA9IG1ha2VTeW5jQ2FsbGJhY2tIYW5kbGVyKGNhbGxiYWNrID0+IHtcbiAgICAgICAgaWYgKGNhbGxiYWNrLmludm9rZSAmJiBjYWxsYmFjay5pbnZva2UubWV0aG9kID09PSAnb2J0YWluTnVtYmVyJykge1xuICAgICAgICAgICAgcmV0dXJuIG51bWJlcjEwMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjYWxsYmFjay5nZXQgJiYgY2FsbGJhY2suZ2V0LnByb3BlcnR5ID09PSAnbnVtYmVyUHJvcCcpIHtcbiAgICAgICAgICAgIHJldHVybiBudW1iZXI1MDA7XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgY2FsbGJhY2s6JyArIEpTT04uc3RyaW5naWZ5KGNhbGxiYWNrKSk7XG4gICAgfSk7XG5cbiAgICBjb25zdCByZXQgPSBzYW5kYm94Lmludm9rZSh7IG9ianJlZjogb2JqLCBtZXRob2Q6ICd0ZXN0JywgYXJnczogWyByZXR1cm5zTnVtYmVyIF19KTtcbiAgICB0ZXN0LmRlZXBFcXVhbChyZXQsIHsgcmVzdWx0OiAxMDAgKiAyICsgNTAwICogMiB9KTtcbn0pO1xuXG5kZWZpbmVUZXN0KCdmYWlsIHRvIGJlZ2luIGFzeW5jIGZyb20gc3luYyAtIG1ldGhvZCcsIGFzeW5jICh0ZXN0LCBzYW5kYm94KSA9PiB7XG4gICAgY29uc3Qgb2JqID0gc2FuZGJveC5jcmVhdGUoeyBmcW46ICdqc2lpLWNhbGMuU3luY1ZpcnR1YWxNZXRob2RzJywgb3ZlcnJpZGVzOiBbIHsgbWV0aG9kOiAndmlydHVhbE1ldGhvZCcsIGNvb2tpZTogJ215Q29va2llJyB9IF0gfSk7XG5cbiAgICBsZXQgY2FsbGVkID0gMDtcblxuICAgIHNhbmRib3guY2FsbGJhY2tIYW5kbGVyID0gbWFrZVN5bmNDYWxsYmFja0hhbmRsZXIoXyA9PiB7XG4gICAgICAgIGNvbnN0IGlubmVyT2JqID0gc2FuZGJveC5jcmVhdGUoeyBmcW46ICdqc2lpLWNhbGMuQXN5bmNWaXJ0dWFsTWV0aG9kcycgfSk7XG4gICAgICAgIHRlc3QudGhyb3dzKCgpID0+IHNhbmRib3guYmVnaW4oeyBvYmpyZWY6IGlubmVyT2JqLCBtZXRob2Q6ICdjYWxsTWUnIH0pKTtcbiAgICAgICAgY2FsbGVkKys7XG4gICAgfSk7XG5cbiAgICBzYW5kYm94Lmludm9rZSh7IG9ianJlZjogb2JqLCBtZXRob2Q6ICdjYWxsZXJJc01ldGhvZCcgfSk7XG4gICAgdGVzdC5lcXVhbChjYWxsZWQsIDEpO1xuXG4gICAgc2FuZGJveC5nZXQoeyBvYmpyZWY6IG9iaiwgcHJvcGVydHk6ICdjYWxsZXJJc1Byb3BlcnR5JyB9KTtcbiAgICB0ZXN0LmVxdWFsKGNhbGxlZCwgMik7XG5cbiAgICBzYW5kYm94LnNldCh7IG9ianJlZjogb2JqLCBwcm9wZXJ0eTogJ2NhbGxlcklzUHJvcGVydHknLCB2YWx1ZTogMzMgfSk7XG4gICAgdGVzdC5lcXVhbChjYWxsZWQsIDMpO1xufSk7XG5cbmRlZmluZVRlc3QoJ3RoZSBcIk9iamVjdFwiIEZRTiBjYW4gYmUgdXNlZCB0byBhbGxvdyBjcmVhdGluZyBlbXB0eSBvYmplY3RzIHdpdGggb3ZlcnJpZGVzIHdoaWNoIGNvbXBseSB3aXRoIGFuIGludGVyZmFjZScsIGFzeW5jICh0ZXN0LCBzYW5kYm94KSA9PiB7XG4gICAgY29uc3Qgb2JqID0gc2FuZGJveC5jcmVhdGUoeyBmcW46ICdqc2lpLWNhbGMuUG9seW1vcnBoaXNtJyB9KTtcbiAgICBjb25zdCBmcmllbmRseSA9IHNhbmRib3guY3JlYXRlKHsgZnFuOiAnT2JqZWN0Jywgb3ZlcnJpZGVzOiBbIHsgbWV0aG9kOiAnaGVsbG8nIH0gXSB9KTtcbiAgICBzYW5kYm94LmNhbGxiYWNrSGFuZGxlciA9IG1ha2VTeW5jQ2FsbGJhY2tIYW5kbGVyKF8gPT4gJ29oLCBoZWxsbycpO1xuICAgIGNvbnN0IHJldCA9IHNhbmRib3guaW52b2tlKHsgb2JqcmVmOiBvYmosIG1ldGhvZDogJ3NheUhlbGxvJywgYXJnczogWyBmcmllbmRseSBdIH0pO1xuICAgIHRlc3QuZGVlcEVxdWFsKHJldC5yZXN1bHQsICdvaCwgb2gsIGhlbGxvJyk7XG59KTtcblxuZGVmaW5lVGVzdCgnbGl0ZXJhbCBvYmplY3RzIGNhbiBiZSByZXR1cm5lZCB3aGVuIGFuIGludGVyZmFjZSBpcyBleHBlY3RlZCwgYW5kIHRoZXkgd2lsbCBiZSBhZG9ybmVkIHdpdGgganNpaSBtZXRhZGF0YSBzbyB0aGV5IGNhbiBiZSBpbnRlcmFjdGVkIHdpdGgnLCBhc3luYyAodGVzdCwgc2FuZGJveCkgPT4ge1xuICAgIGNvbnN0IG9iaiA9IHNhbmRib3guY3JlYXRlKHsgZnFuOiAnanNpaS1jYWxjLkpTT2JqZWN0TGl0ZXJhbEZvckludGVyZmFjZScgfSk7XG4gICAgY29uc3QgcmV0ID0gc2FuZGJveC5pbnZva2UoeyBvYmpyZWY6IG9iaiwgbWV0aG9kOiAnZ2l2ZU1lRnJpZW5kbHknIH0pO1xuXG4gICAgdGVzdC5kZWVwRXF1YWwoc2FuZGJveC5pbnZva2UoeyBvYmpyZWY6IHJldC5yZXN1bHQsIG1ldGhvZDogJ2hlbGxvJyB9KSwgeyByZXN1bHQ6ICdJIGFtIGxpdGVyYWxseSBmcmllbmRseSEnIH0pO1xuXG4gICAgY29uc3QgcmV0MiA9IHNhbmRib3guaW52b2tlKHsgb2JqcmVmOiBvYmosIG1ldGhvZDogJ2dpdmVNZUZyaWVuZGx5R2VuZXJhdG9yJyB9KTtcbiAgICB0ZXN0LmRlZXBFcXVhbChzYW5kYm94Lmludm9rZSh7IG9ianJlZjogcmV0Mi5yZXN1bHQsIG1ldGhvZDogJ2hlbGxvJyB9KSwgeyByZXN1bHQ6ICdnaXZlTWVGcmllbmRseUdlbmVyYXRvcicgfSk7XG4gICAgdGVzdC5kZWVwRXF1YWwoc2FuZGJveC5pbnZva2UoeyBvYmpyZWY6IHJldDIucmVzdWx0LCBtZXRob2Q6ICduZXh0JyB9KSwgeyByZXN1bHQ6IDQyIH0pO1xufSk7XG5cbmRlZmluZVRlc3QoJ2V4Y2VwdGlvbnMgaW5jbHVkZSBhIHN0YWNrIHRyYWNlIGludG8gdGhlIG9yaWdpbmFsIHNvdXJjZSBjb2RlJywgYXN5bmMgKHRlc3QsIHNhbmRib3gpID0+IHtcbiAgICBjb25zdCBvYmogPSBzYW5kYm94LmNyZWF0ZSh7IGZxbjogJ2pzaWktY2FsYy5UaHJvd2VyJyB9KTtcbiAgICB0ZXN0LnRocm93cygoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzYW5kYm94Lmludm9rZSh7IG9ianJlZjogb2JqLCBtZXRob2Q6ICd0aHJvd0Vycm9yJyB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlZ2V4cCA9IC9eXFxzKmF0IFRocm93ZXJcXC5kb1Rocm93RXJyb3IgXFwoLipqc2lpWy1fXWNhbGMuKlxcL2xpYlxcL2NvbXBsaWFuY2VcXC50czpcXGQrOlxcZCtcXCkkL207XG4gICAgICAgICAgICB0ZXN0Lm9rKHJlZ2V4cC50ZXN0KGVycm9yLnN0YWNrKSwgJ1RoZSBzdGFjayB0cmFjZSBpbmNsdWRlcyB0aGUgcGF0aCB0byB0aGUgb3JpZ2luYWwgc291cmNlIGZpbGUnKTtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfSk7XG59KTtcblxuZGVmaW5lVGVzdCgndmFyaWFkaWMgbWV0aG9kcyBjYW4gYmUgY2FsbGVkJywgYXN5bmMgKHRlc3QsIHNhbmRib3gpID0+IHtcbiAgICBjb25zdCBvYmogPSBzYW5kYm94LmNyZWF0ZSh7IGZxbjogJ2pzaWktY2FsYy5WYXJpYWRpY01ldGhvZCcgfSk7XG4gICAgdGVzdC5kZWVwRXF1YWwoc2FuZGJveC5pbnZva2UoeyBvYmpyZWY6IG9iaiwgbWV0aG9kOiAnYXNBcnJheScsIGFyZ3M6IFsxLCAyLCAzLCA0XSB9KS5yZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgWzEsIDIsIDMsIDRdKTtcbn0pO1xuXG5kZWZpbmVUZXN0KCd2YXJpYWRpYyBtZXRob2RzIGNhbiBiZSBjYWxsZWQgd2l0aG91dCBhbnkgdmFyYXJnJywgYXN5bmMgKHRlc3QsIHNhbmRib3gpID0+IHtcbiAgICBjb25zdCBvYmogPSBzYW5kYm94LmNyZWF0ZSh7IGZxbjogJ2pzaWktY2FsYy5WYXJpYWRpY01ldGhvZCcsIGFyZ3M6IFsxLCAyLCAzXSB9KTtcbiAgICB0ZXN0LmRlZXBFcXVhbChzYW5kYm94Lmludm9rZSh7IG9ianJlZjogb2JqLCBtZXRob2Q6ICdhc0FycmF5JywgYXJnczogWzRdIH0pLnJlc3VsdCxcbiAgICAgICAgICAgICAgICAgICBbMSwgMiwgMywgNF0pO1xufSk7XG5cbmRlZmluZVRlc3QoJ3N0YXRpYyBwcm9wZXJ0aWVzIC0gZ2V0JywgYXN5bmMgKHRlc3QsIHNhbmRib3gpID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IHNhbmRib3guc2dldCh7IGZxbjogJ2pzaWktY2FsYy5TdGF0aWNzJywgcHJvcGVydHk6ICdGb28nIH0pO1xuICAgIHRlc3QuZGVlcEVxdWFsKHZhbHVlLCB7IHZhbHVlOiAnaGVsbG8nIH0pO1xufSk7XG5cbmRlZmluZVRlc3QoJ2ZhaWxzOiBzdGF0aWMgcHJvcGVydGllcyAtIHNldCByZWFkb25seScsIGFzeW5jICh0ZXN0LCBzYW5kYm94KSA9PiB7XG4gICAgdGVzdC50aHJvd3MoKCkgPT4gc2FuZGJveC5zc2V0KHsgZnFuOiAnanNpaS1jYWxjLlN0YXRpY3MnLCBwcm9wZXJ0eTogJ0ZvbycsIHZhbHVlOiAxMjMgfSkpO1xufSk7XG5cbmRlZmluZVRlc3QoJ3N0YXRpYyBwcm9wZXJ0aWVzIC0gc2V0JywgYXN5bmMgKHRlc3QsIHNhbmRib3gpID0+IHtcbiAgICBjb25zdCBkZWZhdWx0SW5zdGFuY2UgPSBzYW5kYm94LnNnZXQoeyBmcW46ICdqc2lpLWNhbGMuU3RhdGljcycsIHByb3BlcnR5OiAnaW5zdGFuY2UnIH0pO1xuICAgIHRlc3QuZGVlcEVxdWFsKHNhbmRib3guZ2V0KHsgb2JqcmVmOiBkZWZhdWx0SW5zdGFuY2UudmFsdWUsIHByb3BlcnR5OiAndmFsdWUnIH0pLCB7IHZhbHVlOiAnZGVmYXVsdCcgfSk7XG5cbiAgICBjb25zdCBvYmogPSBzYW5kYm94LmNyZWF0ZSh7IGZxbjogJ2pzaWktY2FsYy5TdGF0aWNzJywgYXJnczogWyAnTXlJbnN0YW5jZScgXSB9KTtcbiAgICBzYW5kYm94LnNzZXQoeyBmcW46ICdqc2lpLWNhbGMuU3RhdGljcycsIHByb3BlcnR5OiAnaW5zdGFuY2UnLCB2YWx1ZTogb2JqIH0pO1xuXG4gICAgY29uc3QgdXBkYXRlZEluc3RhbmNlID0gc2FuZGJveC5zZ2V0KHsgZnFuOiAnanNpaS1jYWxjLlN0YXRpY3MnLCBwcm9wZXJ0eTogJ2luc3RhbmNlJyB9KTtcbiAgICB0ZXN0LmRlZXBFcXVhbChzYW5kYm94LmdldCh7IG9ianJlZjogdXBkYXRlZEluc3RhbmNlLnZhbHVlLCBwcm9wZXJ0eTogJ3ZhbHVlJyB9KSwgeyB2YWx1ZTogJ015SW5zdGFuY2UnIH0pO1xufSk7XG5cbmRlZmluZVRlc3QoJ2ZhaWxzOiBzdGF0aWMgcHJvcGVydGllcyAtIGdldC9zZXQgbm9uLXN0YXRpYycsIGFzeW5jICh0ZXN0LCBzYW5kYm94KSA9PiB7XG4gICAgdGVzdC50aHJvd3MoKCkgPT4gc2FuZGJveC5zZ2V0KHsgZnFuOiAnanNpaS1jYWxjLlN0YXRpY3MnLCBwcm9wZXJ0eTogJ3ZhbHVlJyB9KSwgL2lzIG5vdCBzdGF0aWMvKTtcbiAgICB0ZXN0LnRocm93cygoKSA9PiBzYW5kYm94LnNzZXQoeyBmcW46ICdqc2lpLWNhbGMuU3RhdGljcycsIHByb3BlcnR5OiAndmFsdWUnLCB2YWx1ZTogMTIzIH0pLCAvaXMgbm90IHN0YXRpYy8pO1xufSk7XG5cbmRlZmluZVRlc3QoJ2ZhaWxzOiBzdGF0aWMgcHJvcGVydGllcyAtIGdldC9zZXQgbm90IGZvdW5kJywgYXN5bmMgKHRlc3QsIHNhbmRib3gpID0+IHtcbiAgICB0ZXN0LnRocm93cygoKSA9PiBzYW5kYm94LnNnZXQoeyBmcW46ICdqc2lpLWNhbGMuU3RhdGljcycsIHByb3BlcnR5OiAnem9vJyB9KSwgL2RvZXNuJ3QgaGF2ZSBhIHByb3BlcnR5Lyk7XG4gICAgdGVzdC50aHJvd3MoKCkgPT4gc2FuZGJveC5zc2V0KHsgZnFuOiAnanNpaS1jYWxjLlN0YXRpY3MnLCBwcm9wZXJ0eTogJ2JhcicsIHZhbHVlOiAxMjMgfSksIC9kb2Vzbid0IGhhdmUgYSBwcm9wZXJ0eS8pO1xufSk7XG5cbmRlZmluZVRlc3QoJ3N0YXRpYyBtZXRob2RzJywgYXN5bmMgKHRlc3QsIHNhbmRib3gpID0+IHtcbiAgICBjb25zdCByZXN1bHQgPSBzYW5kYm94LnNpbnZva2UoeyBmcW46ICdqc2lpLWNhbGMuU3RhdGljcycsIG1ldGhvZDogJ3N0YXRpY01ldGhvZCcsIGFyZ3M6IFsgJ0pzaWknIF0gfSk7XG4gICAgdGVzdC5kZWVwRXF1YWwocmVzdWx0LCB7IHJlc3VsdDogJ2hlbGxvICxKc2lpIScgfSk7XG59KTtcblxuZGVmaW5lVGVzdCgnZmFpbHM6IHN0YXRpYyBtZXRob2RzIC0gbm90IGZvdW5kJywgYXN5bmMgKHRlc3QsIHNhbmRib3gpID0+IHtcbiAgICB0ZXN0LnRocm93cygoKSA9PiBzYW5kYm94LnNpbnZva2UoeyBmcW46ICdqc2lpLWNhbGMuU3RhdGljcycsIG1ldGhvZDogJ3N0YXRpY01ldGhvZE5vdEZvdW5kJywgYXJnczogWyAnSnNpaScgXSB9KSwgL2RvZXNuJ3QgaGF2ZSBhIG1ldGhvZC8pO1xufSk7XG5cbmRlZmluZVRlc3QoJ2ZhaWxzOiBzdGF0aWMgbWV0aG9kcyAtIG5vdCBzdGF0aWMnLCBhc3luYyAodGVzdCwgc2FuZGJveCkgPT4ge1xuICAgIHRlc3QudGhyb3dzKCgpID0+IHNhbmRib3guc2ludm9rZSh7IGZxbjogJ2pzaWktY2FsYy5TdGF0aWNzJywgbWV0aG9kOiAnanVzdE1ldGhvZCcsIGFyZ3M6IFsgJ0pzaWknIF0gfSksIC9pcyBub3QgYSBzdGF0aWMgbWV0aG9kLyk7XG59KTtcblxuZGVmaW5lVGVzdCgnbG9hZGluZyBhIG1vZHVsZSB0d2ljZSBpZGVwb3RlbnRseSBzdWNjZWVkcycsIGFzeW5jIChfdGVzdCwgc2FuZGJveCkgPT4ge1xuICAgIGF3YWl0IHNhbmRib3gubG9hZCh7XG4gICAgICAgIHRhcmJhbGw6IGF3YWl0IHByZXBhcmVQYWNrYWdlKCdqc2lpLWNhbGMnLCBmYWxzZSksXG4gICAgICAgIG5hbWU6ICdqc2lpLWNhbGMnLFxuICAgICAgICB2ZXJzaW9uOiBjYWxjVmVyc2lvblxuICAgIH0pO1xufSk7XG5cbmRlZmluZVRlc3QoJ2ZhaWxzIGlmIHRyeWluZyB0byBsb2FkIHR3byBkaWZmZXJlbnQgdmVyc2lvbnMgb2YgdGhlIHNhbWUgbW9kdWxlJywgYXN5bmMgKHRlc3QsIHNhbmRib3gpID0+IHtcbiAgICBsZXQgdGhyb3duID0gZmFsc2U7XG4gICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgc2FuZGJveC5sb2FkKHsgdGFyYmFsbDogYXdhaXQgcHJlcGFyZVBhY2thZ2UoJ2pzaWktY2FsYycsIGZhbHNlKSwgbmFtZTogJ2pzaWktY2FsYycsIHZlcnNpb246ICc5OS45OTkuOScgfSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB0ZXN0Lm9rKC9NdWx0aXBsZSB2ZXJzaW9ucyAuKyBhbmQgLisgb2YgdGhlIHBhY2thZ2UgJ2pzaWktY2FsYycgY2Fubm90IGJlIGxvYWRlZCB0b2dldGhlci8udGVzdChlLm1lc3NhZ2UpKTtcbiAgICAgICAgdGhyb3duID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB0ZXN0Lm9rKHRocm93bik7XG59KTtcblxuZGVmaW5lVGVzdCgnbm9kZS5qcyBzdGFuZGFyZCBsaWJyYXJ5JywgYXN5bmMgKHRlc3QsIHNhbmRib3gpID0+IHtcbiAgICBjb25zdCBvYmpyZWYgPSBzYW5kYm94LmNyZWF0ZSh7IGZxbjogJ2pzaWktY2FsYy5Ob2RlU3RhbmRhcmRMaWJyYXJ5JyB9KTtcbiAgICBjb25zdCBwcm9taXNlID0gc2FuZGJveC5iZWdpbih7IG9ianJlZiwgbWV0aG9kOiAnZnNSZWFkRmlsZScgfSk7XG4gICAgYXdhaXQgcHJvY2Vzc1BlbmRpbmdQcm9taXNlcyhzYW5kYm94KTtcblxuICAgIGNvbnN0IG91dHB1dCA9IGF3YWl0IHNhbmRib3guZW5kKHsgcHJvbWlzZWlkOiBwcm9taXNlLnByb21pc2VpZCB9KTtcbiAgICB0ZXN0LmRlZXBFcXVhbChvdXRwdXQsIHsgcmVzdWx0OiAnSGVsbG8sIHJlc291cmNlIScgfSk7XG4gICAgdGVzdC5kZWVwRXF1YWwoc2FuZGJveC5pbnZva2UoeyBvYmpyZWYsIG1ldGhvZDogJ2ZzUmVhZEZpbGVTeW5jJyB9KSxcbiAgICAgICAgeyByZXN1bHQ6ICdIZWxsbywgcmVzb3VyY2UhIFNZTkMhJyB9KTtcblxuICAgIGNvbnN0IHBsYXRmb3JtID0gc2FuZGJveC5nZXQoeyBvYmpyZWYsIHByb3BlcnR5OiAnb3NQbGF0Zm9ybScgfSkudmFsdWU7XG4gICAgdGVzdC5vayhwbGF0Zm9ybSAmJiBwbGF0Zm9ybS5sZW5ndGggPiAwKTtcblxuICAgIHRlc3QuZGVlcEVxdWFsKHNhbmRib3guaW52b2tlKHsgb2JqcmVmLCBtZXRob2Q6ICdjcnlwdG9TaGEyNTYnIH0pLFxuICAgICAgICB7IHJlc3VsdDogXCI2YTJkYTIwOTQzOTMxZTk4MzRmYzEyY2ZlNWJiNDdiYmQ5YWU0MzQ4OWEzMDcyNjk2MmI1NzZmNGUzOTkzZTUwXCIgfSk7XG59KTtcblxuLy8gQHNlZSBhd3NsYWJzL2pzaWkjMjQ4XG5kZWZpbmVUZXN0KCdvYmplY3QgbGl0ZXJhbHMgYXJlIHJldHVybmVkIGJ5IHJlZmVyZW5jZScsIGFzeW5jICh0ZXN0LCBzYW5kYm94KSA9PiB7XG4gICAgY29uc3Qgb2JqcmVmID0gc2FuZGJveC5jcmVhdGUoeyBmcW46ICdqc2lpLWNhbGMuQ2xhc3NXaXRoTXV0YWJsZU9iamVjdExpdGVyYWxQcm9wZXJ0eScgfSk7XG4gICAgY29uc3QgcHJvcGVydHkgPSBzYW5kYm94LmdldCh7IG9ianJlZiwgcHJvcGVydHk6ICdtdXRhYmxlT2JqZWN0JyB9KS52YWx1ZTtcblxuICAgIGNvbnN0IG5ld1ZhbHVlID0gJ0JhemluZ2EhMSEnO1xuICAgIHNhbmRib3guc2V0KHsgb2JqcmVmOiBwcm9wZXJ0eSwgcHJvcGVydHk6ICd2YWx1ZScsIHZhbHVlOiBuZXdWYWx1ZSB9KTtcblxuICAgIHRlc3QuZXF1YWwobmV3VmFsdWUsXG4gICAgICAgICAgICAgICBzYW5kYm94LmdldCh7XG4gICAgICAgICAgICAgICAgICAgb2JqcmVmOiBzYW5kYm94LmdldCh7wqBvYmpyZWYsIHByb3BlcnR5OiAnbXV0YWJsZU9iamVjdCcgfSkudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgcHJvcGVydHk6ICd2YWx1ZSdcbiAgICAgICAgICAgICAgIH0pLnZhbHVlKTtcblxuICAgIHNhbmRib3guZGVsKHsgb2JqcmVmOiBwcm9wZXJ0eSB9KTtcbn0pO1xuXG5kZWZpbmVUZXN0KCdvdmVycmlkZXM6IG1ldGhvZCBpbnN0ZWFkIG9mIHByb3BlcnR5IHdpdGggdGhlIHNhbWUgbmFtZScsIGFzeW5jICh0ZXN0LCBzYW5kYm94KSA9PiB7XG4gICAgdGVzdC50aHJvd3MoKCkgPT4ge1xuICAgICAgICBzYW5kYm94LmNyZWF0ZSh7IGZxbjogJ2pzaWktY2FsYy5TeW5jVmlydHVhbE1ldGhvZHMnLCBvdmVycmlkZXM6IFtcbiAgICAgICAgICAgIHsgbWV0aG9kOiAndGhlUHJvcGVydHknIH1cbiAgICAgICAgXX0pO1xuICAgIH0sIC9UcnlpbmcgdG8gb3ZlcnJpZGUgcHJvcGVydHkvKTtcbn0pO1xuXG5kZWZpbmVUZXN0KCdvdmVycmlkZXM6IHByb3BlcnR5IGluc3RlYWQgb2YgbWV0aG9kIHdpdGggdGhlIHNhbWUgbmFtZScsIGFzeW5jICh0ZXN0LCBzYW5kYm94KSA9PiB7XG4gICAgdGVzdC50aHJvd3MoKCkgPT4ge1xuICAgICAgICBzYW5kYm94LmNyZWF0ZSh7IGZxbjogJ2pzaWktY2FsYy5TeW5jVmlydHVhbE1ldGhvZHMnLCBvdmVycmlkZXM6IFtcbiAgICAgICAgICAgIHsgcHJvcGVydHk6ICd2aXJ0dWFsTWV0aG9kJyB9XG4gICAgICAgIF19KTtcbiAgICB9LCAvVHJ5aW5nIHRvIG92ZXJyaWRlIG1ldGhvZC8pO1xufSk7XG5cbmRlZmluZVRlc3QoJ292ZXJyaWRlczogc2tpcCBvdmVycmlkZXMgb2YgcHJpdmF0ZSBtZXRob2RzJywgYXN5bmMgKHRlc3QsIHNhbmRib3gpID0+IHtcbiAgICBjb25zdCBvYmpyZWYgPSBzYW5kYm94LmNyZWF0ZSh7IGZxbjogJ2pzaWktY2FsYy5Eb05vdE92ZXJyaWRlUHJpdmF0ZXMnLCBvdmVycmlkZXM6IFtcbiAgICAgICAgeyBtZXRob2Q6ICdwcml2YXRlTWV0aG9kJyB9XG4gICAgXX0pO1xuXG4gICAgc2FuZGJveC5jYWxsYmFja0hhbmRsZXIgPSBtYWtlU3luY0NhbGxiYWNrSGFuZGxlcihfID0+IHtcbiAgICAgICAgdGVzdC5vayhmYWxzZSwgJ292ZXJyaWRlIGNhbGxiYWNrIHNob3VsZCBub3QgYmUgY2FsbGVkJyk7XG4gICAgICAgIHJldHVybiAncHJpdmF0ZU1ldGhvZEJvb20hJztcbiAgICB9KTtcblxuICAgIGNvbnN0IHJlc3VsdCA9IHNhbmRib3guaW52b2tlKHsgb2JqcmVmLCBtZXRob2Q6ICdwcml2YXRlTWV0aG9kVmFsdWUnIH0pO1xuICAgIHRlc3QuZGVlcEVxdWFsKHJlc3VsdC5yZXN1bHQsICdwcml2YXRlTWV0aG9kJyk7XG59KTtcblxuZGVmaW5lVGVzdCgnb3ZlcnJpZGVzOiBza2lwIG92ZXJyaWRlcyBvZiBwcml2YXRlIHByb3BlcnRpZXMnLCBhc3luYyAodGVzdCwgc2FuZGJveCkgPT4ge1xuICAgIGNvbnN0IG9ianJlZiA9IHNhbmRib3guY3JlYXRlKHsgZnFuOiAnanNpaS1jYWxjLkRvTm90T3ZlcnJpZGVQcml2YXRlcycsIG92ZXJyaWRlczogW1xuICAgICAgICB7IHByb3BlcnR5OiAncHJpdmF0ZVByb3BlcnR5JyB9XG4gICAgXX0pO1xuXG4gICAgc2FuZGJveC5jYWxsYmFja0hhbmRsZXIgPSBtYWtlU3luY0NhbGxiYWNrSGFuZGxlcihfID0+IHtcbiAgICAgICAgdGVzdC5vayhmYWxzZSwgJ292ZXJyaWRlIGNhbGxiYWNrIHNob3VsZCBub3QgYmUgY2FsbGVkJyk7XG4gICAgICAgIHJldHVybiAncHJpdmF0ZVByb3BlcnR5Qm9vbSEnO1xuICAgIH0pO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gc2FuZGJveC5pbnZva2UoeyBvYmpyZWYsIG1ldGhvZDogJ3ByaXZhdGVQcm9wZXJ0eVZhbHVlJyB9KTtcbiAgICB0ZXN0LmRlZXBFcXVhbChyZXN1bHQucmVzdWx0LCAncHJpdmF0ZVByb3BlcnR5Jyk7XG59KTtcblxuZGVmaW5lVGVzdCgnbnVsbHMgYXJlIGNvbnZlcnRlZCB0byB1bmRlZmluZWQgLSBjdG9yJywgYXN5bmMgKF90ZXN0LCBzYW5kYm94KSA9PiB7XG4gICAgc2FuZGJveC5jcmVhdGUoeyBmcW46ICdqc2lpLWNhbGMuTnVsbFNob3VsZEJlVHJlYXRlZEFzVW5kZWZpbmVkJywgYXJnczogWyBcImZvb1wiLCBudWxsIF0gfSk7XG59KTtcblxuZGVmaW5lVGVzdCgnbnVsbHMgYXJlIGNvbnZlcnRlZCB0byB1bmRlZmluZWQgLSBtZXRob2QgYXJndW1lbnRzJywgYXN5bmMgKF90ZXN0LCBzYW5kYm94KSA9PiB7XG4gICAgY29uc3Qgb2JqcmVmID0gc2FuZGJveC5jcmVhdGUoeyBmcW46ICdqc2lpLWNhbGMuTnVsbFNob3VsZEJlVHJlYXRlZEFzVW5kZWZpbmVkJywgYXJnczogWyBcImZvb1wiIF0gfSk7XG4gICAgc2FuZGJveC5pbnZva2UoeyBvYmpyZWYsIG1ldGhvZDogJ2dpdmVNZVVuZGVmaW5lZCcsIGFyZ3M6IFsgbnVsbCBdIH0pO1xufSk7XG5cbmRlZmluZVRlc3QoJ251bGxzIGFyZSBjb252ZXJ0ZWQgdG8gdW5kZWZpbmVkIC0gaW5zaWRlIG9iamVjdHMnLCBhc3luYyAoX3Rlc3QsIHNhbmRib3gpID0+IHtcbiAgICBjb25zdCBvYmpyZWYgPSBzYW5kYm94LmNyZWF0ZSh7IGZxbjogJ2pzaWktY2FsYy5OdWxsU2hvdWxkQmVUcmVhdGVkQXNVbmRlZmluZWQnLCBhcmdzOiBbIFwiZm9vXCIgXSB9KTtcbiAgICBzYW5kYm94Lmludm9rZSh7IG9ianJlZiwgbWV0aG9kOiAnZ2l2ZU1lVW5kZWZpbmVkSW5zaWRlQW5PYmplY3QnLCBhcmdzOiBbIHtcbiAgICAgICAgdGhpc1Nob3VsZEJlVW5kZWZpbmVkOiBudWxsLFxuICAgICAgICBhcnJheVdpdGhUaHJlZUVsZW1lbnRzQW5kVW5kZWZpbmVkQXNTZWNvbmRBcmd1bWVudDogWyAnb25lJywgbnVsbCwgJ3R3bycgXVxuICAgIH0gXX0pO1xufSk7XG5cbmRlZmluZVRlc3QoJ251bGxzIGFyZSBjb252ZXJ0ZWQgdG8gdW5kZWZpbmVkIC0gcHJvcGVydGllcycsIGFzeW5jIChfdGVzdCwgc2FuZGJveCkgPT4ge1xuICAgIGNvbnN0IG9ianJlZiA9IHNhbmRib3guY3JlYXRlKHsgZnFuOiAnanNpaS1jYWxjLk51bGxTaG91bGRCZVRyZWF0ZWRBc1VuZGVmaW5lZCcsIGFyZ3M6IFsgXCJmb29cIiBdIH0pO1xuICAgIHNhbmRib3guc2V0KHsgb2JqcmVmLCBwcm9wZXJ0eTogJ2NoYW5nZU1lVG9VbmRlZmluZWQnLCB2YWx1ZTogbnVsbCB9KTtcbiAgICBzYW5kYm94Lmludm9rZSh7IG9ianJlZiwgbWV0aG9kOiAndmVyaWZ5UHJvcGVydHlJc1VuZGVmaW5lZCcgfSk7XG59KTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5jb25zdCB0ZXN0TmFtZXM6IHsgW25hbWU6IHN0cmluZ106IGJvb2xlYW4gfSA9IHsgfTtcblxuYXN5bmMgZnVuY3Rpb24gY3JlYXRlQ2FsY3VsYXRvclNhbmRib3gobmFtZTogc3RyaW5nKSB7XG4gICAgaWYgKG5hbWUgaW4gdGVzdE5hbWVzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRHVwbGljYXRlIHRlc3QgbmFtZTogJHtuYW1lfWApO1xuICAgIH1cbiAgICB0ZXN0TmFtZXNbbmFtZV0gPSB0cnVlO1xuXG4gICAgY29uc3QgaW5pdGlhbENhbGxiYWNrSGFuZGxlciA9ICgpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYWxsYmFjayBpbnZva2VkIHdpdGhvdXQgYSBjYWxsYmFjayBoYW5kbGVyJyk7XG4gICAgfTtcbiAgICBjb25zdCBzYW5kYm94ID0gbmV3IEtlcm5lbChpbml0aWFsQ2FsbGJhY2tIYW5kbGVyKTtcblxuICAgIGlmIChyZWNvcmRpbmdPdXRwdXQpIHtcbiAgICAgICAgY29uc3QgaW5wdXRPdXRwdXRMb2dQYXRoID0gam9pbihyZWNvcmRpbmdPdXRwdXQsIGAke25hbWV9LmxvZ2ApO1xuICAgICAgICByZWNvcmRJbnRlcmFjdGlvbihzYW5kYm94LCBpbnB1dE91dHB1dExvZ1BhdGgpO1xuICAgIH1cblxuICAgIHNhbmRib3gudHJhY2VFbmFibGVkID0gYCR7cHJvY2Vzcy5lbnYuSlNJSV9ERUJVR31gID09PSAnMSc7XG5cbiAgICBhd2FpdCBzYW5kYm94LmxvYWQoeyB0YXJiYWxsOiBhd2FpdCBwcmVwYXJlUGFja2FnZSgnQHNjb3BlL2pzaWktY2FsYy1iYXNlJyksIG5hbWU6ICdAc2NvcGUvanNpaS1jYWxjLWJhc2UnLCB2ZXJzaW9uOiBjYWxjQmFzZVZlcnNpb24gfSk7XG4gICAgYXdhaXQgc2FuZGJveC5sb2FkKHsgdGFyYmFsbDogYXdhaXQgcHJlcGFyZVBhY2thZ2UoJ0BzY29wZS9qc2lpLWNhbGMtbGliJyksIG5hbWU6ICdAc2NvcGUvanNpaS1jYWxjLWxpYicsIHZlcnNpb246IGNhbGNMaWJWZXJzaW9uIH0pO1xuICAgIGF3YWl0IHNhbmRib3gubG9hZCh7IHRhcmJhbGw6IGF3YWl0IHByZXBhcmVQYWNrYWdlKCdqc2lpLWNhbGMnKSwgbmFtZTogJ2pzaWktY2FsYycsIHZlcnNpb246IGNhbGNWZXJzaW9uIH0pO1xuICAgIHJldHVybiBzYW5kYm94O1xufVxuXG5jb25zdCBjYWNoZTogeyBbbW9kdWxlOiBzdHJpbmddOiBzdHJpbmcgfSA9IHsgfTtcblxuYXN5bmMgZnVuY3Rpb24gcHJlcGFyZVBhY2thZ2UobW9kdWxlOiBzdHJpbmcsIHVzZUNhY2hlID0gdHJ1ZSkge1xuICAgIGlmIChtb2R1bGUgaW4gY2FjaGUgJiYgdXNlQ2FjaGUpIHtcbiAgICAgICAgcmV0dXJuIGNhY2hlW21vZHVsZV07XG4gICAgfVxuXG4gICAgY29uc3Qgc3RhZ2luZyA9IGF3YWl0IGZzLm1rZHRlbXAoJy90bXAvanNpaS1rZXJuZWwtdGVzdHMtJyk7XG5cbiAgICAvLyBjbGVhbiB1cCBvbmx5IGlmIHdlIGFyZSBub3QgcmVjb3JkaW5nLCBzbyBwbGF5YmFjayBjYW4gcmVmZXIgdG8gdGhlc2VcbiAgICBpZiAoIXJlY29yZGluZ091dHB1dCkge1xuICAgICAgICBwcm9jZXNzLm9uKCdleGl0JywgKCkgPT4gZnMucmVtb3ZlU3luYyhzdGFnaW5nKSk7IC8vIGNsZWFudXBcbiAgICB9XG5cbiAgICBjb25zdCBwYWNrYWdlUm9vdCA9IGZpbmRQYWNrYWdlUm9vdChtb2R1bGUpO1xuICAgIGF3YWl0IG5ldyBQcm9taXNlKChvaywga28pID0+IHtcbiAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZFByb2Nlc3Muc3Bhd24oJ25wbScsIFsncGFjaycsIHBhY2thZ2VSb290XSwgeyBjd2Q6IHN0YWdpbmcsIHNoZWxsOiB0cnVlLCBzdGRpbzogWydpZ25vcmUnLCAncGlwZScsICdpZ25vcmUnXSB9KTtcbiAgICAgICAgY29uc3Qgc3Rkb3V0ID0gbmV3IEFycmF5PEJ1ZmZlcj4oKTtcbiAgICAgICAgY2hpbGQuc3Rkb3V0Lm9uKCdkYXRhJywgY2h1bmsgPT4gc3Rkb3V0LnB1c2goQnVmZmVyLmZyb20oY2h1bmspKSk7XG4gICAgICAgIGNoaWxkLm9uY2UoJ2V4aXQnLCBhc3luYyAoY29kZSwgc2lnbmFsKSA9PiB7XG4gICAgICAgICAgICBpZiAoY29kZSA9PT0gMCkgeyByZXR1cm4gb2soKTsgfVxuICAgICAgICAgICAgaWYgKGNvZGUgIT0gbnVsbCkgeyByZXR1cm4ga28oYFByb2Nlc3MgZXhpdGVkIHdpdGggY29kZSAke2NvZGV9YCk7IH1cbiAgICAgICAgICAgIGtvKGBQcm9jZXNzIGtpbGxlZCBieSBzaWduYWwgJHtzaWduYWx9YCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIGNvbnN0IGRpciA9IHBhdGguam9pbihzdGFnaW5nLCAoYXdhaXQgZnMucmVhZGRpcihzdGFnaW5nKSlbMF0pO1xuICAgIGNhY2hlW21vZHVsZV0gPSBkaXI7XG4gICAgcmV0dXJuIGRpcjtcbn1cblxuZnVuY3Rpb24gZmluZFBhY2thZ2VSb290KHBrZzogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHBhdGgucmVzb2x2ZShwYXRoLmpvaW4ocmVxdWlyZS5yZXNvbHZlKGAke3BrZ30vcGFja2FnZS5qc29uYCksICcuLicpKTtcbn1cblxuLyoqXG4gKiBzeW5jaHJvbm91cyBvdmVycmlkZXMgYXJlIGltcGxlbWVudGVkIGFzIGEgc2ltcGxlIGNhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgZ2V0c1xuICogYWxsIHRoZSBpbmZvcm1hdGlvbiBuZWVkZWQgdG8gcGVyZm9ybSB0aGUgY2FsbGJhY2sgYW5kIHJldHVybiB0aGUgcmVzdWx0LlxuICovXG5mdW5jdGlvbiBtYWtlU3luY0NhbGxiYWNrSGFuZGxlcihsb2dpYzogKGNhbGxiYWNrOiBDYWxsYmFjaykgPT4gYW55KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHRoaXM6IEtlcm5lbCwgY2FsbGJhY2s6IENhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IHNhbmRib3ggPSB0aGlzO1xuXG4gICAgICAgIC8vIHNpbmNlIHN5bmMgY2FsbGJhY2tzIG11c3QgYmUgaGFuZGxlZCBhdCBob3N0IGxldmVsLCB3ZSB3aWxsIFwiZmFrZVwiXG4gICAgICAgIC8vIGhvdyBqc2lpLXJ1bnRpbWUgYW5kIGEgY2xpZW50IHdpbGwgaW50ZXJhY3Qgd2hlbiBhIGNhbGxiYWNrIGlzIHJlcXVlc3RlZFxuICAgICAgICBjb25zdCByZWNvcmRpbmc6IGZzLldyaXRlU3RyZWFtID0gKHNhbmRib3ggYXMgYW55KS5sb2dmaWxlO1xuXG4gICAgICAgIGlmIChyZWNvcmRpbmcpIHtcbiAgICAgICAgICAgIC8vIGpzaWktcnVudGltZSA9PiBjbGllbnQgKGNhbGxiYWNrIHJlcXVlc3QgZnJvbSB0aGUgcnVudGltZSlcbiAgICAgICAgICAgIHJlY29yZGluZy53cml0ZShgPCAke0pTT04uc3RyaW5naWZ5KHsgY2FsbGJhY2sgfSl9XFxuYCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZXN1bHQgPSBsb2dpYyhjYWxsYmFjayk7XG5cbiAgICAgICAgaWYgKHJlY29yZGluZykge1xuICAgICAgICAgICAgLy8gY2xpZW50ID0+IGpzaWktcnVudGltZSAoY2FsbGJhY2sgY29tcGxldGlvbiBieSBjbGllbnQpXG4gICAgICAgICAgICByZWNvcmRpbmcud3JpdGUoYD4gJHtKU09OLnN0cmluZ2lmeSh7IGNvbXBsZXRlOiB7IGNiaWQ6IGNhbGxiYWNrLmNiaWQsIHJlc3VsdCB9IH0pfVxcbmApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xufVxuIl19